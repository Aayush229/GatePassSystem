<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="The CDN for everything on npm"/><link rel="icon" type="image/jpeg" href="/favicon.jpg"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/styles-D6XP7YEC.css"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/code-light-B2LHUSJR.css"/><script type="importmap">{"imports":{"preact":"https://unpkg.com/preact@10.25.4/dist/preact.module.js","preact/hooks":"https://unpkg.com/preact@10.25.4/hooks/dist/hooks.module.js","preact/jsx-runtime":"https://unpkg.com/preact@10.25.4/jsx-runtime/dist/jsxRuntime.module.js"}}</script><script type="module" src="https://app.unpkg.com/_assets/scripts-5LWG6LQM.js" defer></script><title>UNPKG</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script></head><body><header class="border-b border-slate-300 bg-slate-100 text-slate-950"><div class="p-4 mx-auto flex justify-between items-center lg:max-w-screen-xl"><h1 class="text-2xl font-bold inline-block"><a href="https://unpkg.com">UNPKG</a></h1><span class="inline-block h-full"><a href="https://github.com/unpkg"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a></span></div></header><main class="px-4 pb-24 mx-auto lg:max-w-screen-xl lg:pb-44"><header class="pt-6 pb-4 lg:pt-16"><div class="mb-6 flex justify-between items-center"><h1 class="text-black text-3xl leading-tight font-semibold">html5-qrcode</h1><div class="text-right w-48"><span>Version: </span><span data-hydrate="{&quot;key&quot;:&quot;VersionSelector&quot;,&quot;props&quot;:{&quot;availableTags&quot;:{&quot;latest&quot;:&quot;2.3.8&quot;},&quot;availableVersions&quot;:[&quot;2.3.8&quot;,&quot;2.3.7&quot;,&quot;2.3.6&quot;,&quot;2.3.5&quot;,&quot;2.3.4&quot;,&quot;2.3.3&quot;,&quot;2.3.2&quot;,&quot;2.3.1&quot;,&quot;2.3.0&quot;,&quot;2.2.8&quot;,&quot;2.2.7&quot;,&quot;2.2.6&quot;,&quot;2.2.5&quot;,&quot;2.2.4&quot;,&quot;2.2.3&quot;,&quot;2.2.2&quot;,&quot;2.2.1&quot;,&quot;2.2.0&quot;,&quot;2.1.6&quot;,&quot;2.1.5&quot;,&quot;2.1.4&quot;,&quot;2.1.3&quot;,&quot;2.1.2&quot;,&quot;2.1.1&quot;,&quot;2.1.0&quot;,&quot;2.0.13&quot;,&quot;2.0.12&quot;,&quot;2.0.11&quot;,&quot;2.0.10&quot;,&quot;2.0.9&quot;,&quot;2.0.8&quot;,&quot;2.0.7&quot;,&quot;2.0.6&quot;,&quot;2.0.5&quot;,&quot;2.0.4&quot;,&quot;2.0.3&quot;,&quot;2.0.2&quot;,&quot;2.0.1&quot;,&quot;2.0.0&quot;,&quot;1.2.4&quot;,&quot;1.2.3&quot;,&quot;1.2.2&quot;,&quot;1.2.1&quot;,&quot;1.2.0&quot;,&quot;1.1.9&quot;,&quot;1.1.8&quot;,&quot;1.1.7&quot;,&quot;1.1.6&quot;,&quot;1.1.5&quot;,&quot;1.1.4&quot;,&quot;1.1.3&quot;,&quot;1.1.2&quot;,&quot;1.1.1&quot;,&quot;1.1.0&quot;,&quot;1.0.9&quot;,&quot;1.0.8&quot;,&quot;1.0.7&quot;,&quot;1.0.6&quot;,&quot;1.0.5&quot;,&quot;1.0.4&quot;,&quot;1.0.3&quot;,&quot;1.0.2&quot;,&quot;1.0.1&quot;],&quot;currentVersion&quot;:&quot;2.3.8&quot;,&quot;pathnameFormat&quot;:&quot;/html5-qrcode@%s/files/html5-qrcode.min.js&quot;,&quot;class&quot;:&quot;w-28 p-1 border border-slate-300 bg-slate-100 text-sm&quot;}}"><select name="version" class="w-28 p-1 border border-slate-300 bg-slate-100 text-sm"><optgroup label="Tags"><option selected value="2.3.8">latest (2.3.8)</option></optgroup><optgroup label="Versions"><option selected value="2.3.8">2.3.8</option><option value="2.3.7">2.3.7</option><option value="2.3.6">2.3.6</option><option value="2.3.5">2.3.5</option><option value="2.3.4">2.3.4</option><option value="2.3.3">2.3.3</option><option value="2.3.2">2.3.2</option><option value="2.3.1">2.3.1</option><option value="2.3.0">2.3.0</option><option value="2.2.8">2.2.8</option><option value="2.2.7">2.2.7</option><option value="2.2.6">2.2.6</option><option value="2.2.5">2.2.5</option><option value="2.2.4">2.2.4</option><option value="2.2.3">2.2.3</option><option value="2.2.2">2.2.2</option><option value="2.2.1">2.2.1</option><option value="2.2.0">2.2.0</option><option value="2.1.6">2.1.6</option><option value="2.1.5">2.1.5</option><option value="2.1.4">2.1.4</option><option value="2.1.3">2.1.3</option><option value="2.1.2">2.1.2</option><option value="2.1.1">2.1.1</option><option value="2.1.0">2.1.0</option><option value="2.0.13">2.0.13</option><option value="2.0.12">2.0.12</option><option value="2.0.11">2.0.11</option><option value="2.0.10">2.0.10</option><option value="2.0.9">2.0.9</option><option value="2.0.8">2.0.8</option><option value="2.0.7">2.0.7</option><option value="2.0.6">2.0.6</option><option value="2.0.5">2.0.5</option><option value="2.0.4">2.0.4</option><option value="2.0.3">2.0.3</option><option value="2.0.2">2.0.2</option><option value="2.0.1">2.0.1</option><option value="2.0.0">2.0.0</option><option value="1.2.4">1.2.4</option><option value="1.2.3">1.2.3</option><option value="1.2.2">1.2.2</option><option value="1.2.1">1.2.1</option><option value="1.2.0">1.2.0</option><option value="1.1.9">1.1.9</option><option value="1.1.8">1.1.8</option><option value="1.1.7">1.1.7</option><option value="1.1.6">1.1.6</option><option value="1.1.5">1.1.5</option><option value="1.1.4">1.1.4</option><option value="1.1.3">1.1.3</option><option value="1.1.2">1.1.2</option><option value="1.1.1">1.1.1</option><option value="1.1.0">1.1.0</option><option value="1.0.9">1.0.9</option><option value="1.0.8">1.0.8</option><option value="1.0.7">1.0.7</option><option value="1.0.6">1.0.6</option><option value="1.0.5">1.0.5</option><option value="1.0.4">1.0.4</option><option value="1.0.3">1.0.3</option><option value="1.0.2">1.0.2</option><option value="1.0.1">1.0.1</option></optgroup></select></span></div></div><div class="mt-2"><p class="mb-3 leading-tight"><span>A cross platform HTML5 QR Code &amp; bar code scanner</span></p><div class="lg:hidden"><p class="mt-1 text-sm leading-4"><a href="https://github.com/mebjas/html5-qrcode#readme" title="Visit the html5-qrcode website" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" class="w-6 h-6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg><span class="ml-1">github.com/mebjas/html5-qrcode</span></a></p><p class="mt-1 text-sm leading-4"><a href="https://github.com/mebjas/html5-qrcode" title="View the html5-qrcode repository on GitHub" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg><span class="ml-1">mebjas/html5-qrcode</span></a></p></div></div></header><nav class="py-2"><span><a href="https://app.unpkg.com/html5-qrcode@2.3.8" class="text-blue-600 hover:underline">html5-qrcode</a></span><span> / </span><span>html5-qrcode.min.js</span></nav><div class="p-3 border border-slate-300 bg-slate-100 text-sm flex justify-between select-none"><div class="w-64"><span><span>1 lines </span><span>â€¢ </span></span><span>375 kB</span></div><div class="hidden flex-grow sm:block text-center">JavaScript</div><div class="w-64 hidden sm:block text-right"><a href="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js" class="py-1 px-2 border border-slate-300 bg-slate-100 hover:bg-slate-200 rounded-sm">View Raw</a></div></div><div data-hydrate="{&quot;key&quot;:&quot;CodeViewer&quot;,&quot;props&quot;:{&quot;html&quot;:&quot;var __Html5QrcodeLibrary__;(()=&amp;gt;{var t={449:function(t,e,r){!function(t){&amp;quot;use strict&amp;quot;;function e(t){return null==t}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;amp;&amp;amp;function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&amp;amp;&amp;amp;(t[r]=e[r])};var i,o=function(t){function e(e){var r,n,i,o=this.constructor,s=t.call(this,e)||this;return Object.defineProperty(s,&amp;quot;name&amp;quot;,{value:o.name,enumerable:!1}),r=s,n=o.prototype,(i=Object.setPrototypeOf)?i(r,n):r.__proto__=n,function(t,e){void 0===e&amp;amp;&amp;amp;(e=t.constructor);var r=Error.captureStackTrace;r&amp;amp;&amp;amp;r(t,e)}(s),s}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Error);class s extends o{constructor(t=undefined){super(t),this.message=t}getKind(){return this.constructor.kind}}s.kind=&amp;quot;Exception&amp;quot;;class a extends s{}a.kind=&amp;quot;ArgumentException&amp;quot;;class c extends s{}c.kind=&amp;quot;IllegalArgumentException&amp;quot;;class l{constructor(t){if(this.binarizer=t,null===t)throw new c(&amp;quot;Binarizer must be non-null.&amp;quot;)}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,e){return this.binarizer.getBlackRow(t,e)}getBlackMatrix(){return null!==this.matrix&amp;amp;&amp;amp;void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,e,r,n){const i=this.binarizer.getLuminanceSource().crop(t,e,r,n);return new l(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new l(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new l(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch(t){return&amp;quot;&amp;quot;}}}class h extends s{static getChecksumInstance(){return new h}}h.kind=&amp;quot;ChecksumException&amp;quot;;class u{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class d{static arraycopy(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}static currentTimeMillis(){return Date.now()}}class f extends s{}f.kind=&amp;quot;IndexOutOfBoundsException&amp;quot;;class g extends f{constructor(t=undefined,e=undefined){super(e),this.index=t,this.message=e}}g.kind=&amp;quot;ArrayIndexOutOfBoundsException&amp;quot;;class w{static fill(t,e){for(let r=0,n=t.length;r&amp;lt;n;r++)t[r]=e}static fillWithin(t,e,r,n){w.rangeCheck(t.length,e,r);for(let i=e;i&amp;lt;r;i++)t[i]=n}static rangeCheck(t,e,r){if(e&amp;gt;r)throw new c(&amp;quot;fromIndex(&amp;quot;+e+&amp;quot;) &amp;gt; toIndex(&amp;quot;+r+&amp;quot;)&amp;quot;);if(e&amp;lt;0)throw new g(e);if(r&amp;gt;t)throw new g(r)}static asList(...t){return t}static create(t,e,r){return Array.from({length:t}).map((t=&amp;gt;Array.from({length:e}).fill(r)))}static createInt32Array(t,e,r){return Array.from({length:t}).map((t=&amp;gt;Int32Array.from({length:e}).fill(r)))}static equals(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r&amp;lt;n;r++)if(t[r]!==e[r])return!1;return!0}static hashCode(t){if(null===t)return 0;let e=1;for(const r of t)e=31*e+r;return e}static fillUint8Array(t,e){for(let r=0;r!==t.length;r++)t[r]=e}static copyOf(t,e){return t.slice(0,e)}static copyOfUint8Array(t,e){if(t.length&amp;lt;=e){const r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)}static copyOfRange(t,e,r){const n=r-e,i=new Int32Array(n);return d.arraycopy(t,e,i,0,n),i}static binarySearch(t,e,r){void 0===r&amp;amp;&amp;amp;(r=w.numberComparator);let n=0,i=t.length-1;for(;n&amp;lt;=i;){const o=i+n&amp;gt;&amp;gt;1,s=r(e,t[o]);if(s&amp;gt;0)n=o+1;else{if(!(s&amp;lt;0))return o;i=o-1}}return-n-1}static numberComparator(t,e){return t-e}}class m{static numberOfTrailingZeros(t){let e;if(0===t)return 32;let r=31;return e=t&amp;lt;&amp;lt;16,0!==e&amp;amp;&amp;amp;(r-=16,t=e),e=t&amp;lt;&amp;lt;8,0!==e&amp;amp;&amp;amp;(r-=8,t=e),e=t&amp;lt;&amp;lt;4,0!==e&amp;amp;&amp;amp;(r-=4,t=e),e=t&amp;lt;&amp;lt;2,0!==e&amp;amp;&amp;amp;(r-=2,t=e),r-(t&amp;lt;&amp;lt;1&amp;gt;&amp;gt;&amp;gt;31)}static numberOfLeadingZeros(t){if(0===t)return 32;let e=1;return t&amp;gt;&amp;gt;&amp;gt;16==0&amp;amp;&amp;amp;(e+=16,t&amp;lt;&amp;lt;=16),t&amp;gt;&amp;gt;&amp;gt;24==0&amp;amp;&amp;amp;(e+=8,t&amp;lt;&amp;lt;=8),t&amp;gt;&amp;gt;&amp;gt;28==0&amp;amp;&amp;amp;(e+=4,t&amp;lt;&amp;lt;=4),t&amp;gt;&amp;gt;&amp;gt;30==0&amp;amp;&amp;amp;(e+=2,t&amp;lt;&amp;lt;=2),e-=t&amp;gt;&amp;gt;&amp;gt;31,e}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=(t=(858993459&amp;amp;(t-=t&amp;gt;&amp;gt;&amp;gt;1&amp;amp;1431655765))+(t&amp;gt;&amp;gt;&amp;gt;2&amp;amp;858993459))+(t&amp;gt;&amp;gt;&amp;gt;4)&amp;amp;252645135,63&amp;amp;(t+=t&amp;gt;&amp;gt;&amp;gt;8)+(t&amp;gt;&amp;gt;&amp;gt;16)}static truncDivision(t,e){return Math.trunc(t/e)}static parseInt(t,e=undefined){return parseInt(t,e)}}m.MIN_VALUE_32_BITS=-2147483648,m.MAX_VALUE=Number.MAX_SAFE_INTEGER;class p{constructor(t,e){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==e?p.makeArray(t):e)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t&amp;gt;32*this.bits.length){const e=p.makeArray(t);d.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}}get(t){return 0!=(this.bits[Math.floor(t/32)]&amp;amp;1&amp;lt;&amp;lt;(31&amp;amp;t))}set(t){this.bits[Math.floor(t/32)]|=1&amp;lt;&amp;lt;(31&amp;amp;t)}flip(t){this.bits[Math.floor(t/32)]^=1&amp;lt;&amp;lt;(31&amp;amp;t)}getNextSet(t){const e=this.size;if(t&amp;gt;=e)return e;const r=this.bits;let n=Math.floor(t/32),i=r[n];i&amp;amp;=~((1&amp;lt;&amp;lt;(31&amp;amp;t))-1);const o=r.length;for(;0===i;){if(++n===o)return e;i=r[n]}const s=32*n+m.numberOfTrailingZeros(i);return s&amp;gt;e?e:s}getNextUnset(t){const e=this.size;if(t&amp;gt;=e)return e;const r=this.bits;let n=Math.floor(t/32),i=~r[n];i&amp;amp;=~((1&amp;lt;&amp;lt;(31&amp;amp;t))-1);const o=r.length;for(;0===i;){if(++n===o)return e;i=~r[n]}const s=32*n+m.numberOfTrailingZeros(i);return s&amp;gt;e?e:s}setBulk(t,e){this.bits[Math.floor(t/32)]=e}setRange(t,e){if(e&amp;lt;t||t&amp;lt;0||e&amp;gt;this.size)throw new c;if(e===t)return;e--;const r=Math.floor(t/32),n=Math.floor(e/32),i=this.bits;for(let o=r;o&amp;lt;=n;o++){const s=(2&amp;lt;&amp;lt;(o&amp;lt;n?31:31&amp;amp;e))-(1&amp;lt;&amp;lt;(o&amp;gt;r?0:31&amp;amp;t));i[o]|=s}}clear(){const t=this.bits.length,e=this.bits;for(let r=0;r&amp;lt;t;r++)e[r]=0}isRange(t,e,r){if(e&amp;lt;t||t&amp;lt;0||e&amp;gt;this.size)throw new c;if(e===t)return!0;e--;const n=Math.floor(t/32),i=Math.floor(e/32),o=this.bits;for(let s=n;s&amp;lt;=i;s++){const a=(2&amp;lt;&amp;lt;(s&amp;lt;i?31:31&amp;amp;e))-(1&amp;lt;&amp;lt;(s&amp;gt;n?0:31&amp;amp;t))&amp;amp;4294967295;if((o[s]&amp;amp;a)!==(r?a:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&amp;amp;&amp;amp;(this.bits[Math.floor(this.size/32)]|=1&amp;lt;&amp;lt;(31&amp;amp;this.size)),this.size++}appendBits(t,e){if(e&amp;lt;0||e&amp;gt;32)throw new c(&amp;quot;Num bits must be between 0 and 32&amp;quot;);this.ensureCapacity(this.size+e);for(let r=e;r&amp;gt;0;r--)this.appendBit(1==(t&amp;gt;&amp;gt;r-1&amp;amp;1))}appendBitArray(t){const e=t.size;this.ensureCapacity(this.size+e);for(let r=0;r&amp;lt;e;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new c(&amp;quot;Sizes don&amp;apos;t match&amp;quot;);const e=this.bits;for(let r=0,n=e.length;r&amp;lt;n;r++)e[r]^=t.bits[r]}toBytes(t,e,r,n){for(let i=0;i&amp;lt;n;i++){let n=0;for(let e=0;e&amp;lt;8;e++)this.get(t)&amp;amp;&amp;amp;(n|=1&amp;lt;&amp;lt;7-e),t++;e[r+i]=n}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,n=this.bits;for(let i=0;i&amp;lt;r;i++){let r=n[i];r=r&amp;gt;&amp;gt;1&amp;amp;1431655765|(1431655765&amp;amp;r)&amp;lt;&amp;lt;1,r=r&amp;gt;&amp;gt;2&amp;amp;858993459|(858993459&amp;amp;r)&amp;lt;&amp;lt;2,r=r&amp;gt;&amp;gt;4&amp;amp;252645135|(252645135&amp;amp;r)&amp;lt;&amp;lt;4,r=r&amp;gt;&amp;gt;8&amp;amp;16711935|(16711935&amp;amp;r)&amp;lt;&amp;lt;8,r=r&amp;gt;&amp;gt;16&amp;amp;65535|(65535&amp;amp;r)&amp;lt;&amp;lt;16,t[e-i]=r}if(this.size!==32*r){const e=32*r-this.size;let n=t[0]&amp;gt;&amp;gt;&amp;gt;e;for(let i=1;i&amp;lt;r;i++){const r=t[i];n|=r&amp;lt;&amp;lt;32-e,t[i-1]=n,n=r&amp;gt;&amp;gt;&amp;gt;e}t[r-1]=n}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof p))return!1;const e=t;return this.size===e.size&amp;amp;&amp;amp;w.equals(this.bits,e.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let t=&amp;quot;&amp;quot;;for(let e=0,r=this.size;e&amp;lt;r;e++)0==(7&amp;amp;e)&amp;amp;&amp;amp;(t+=&amp;quot; &amp;quot;),t+=this.get(e)?&amp;quot;X&amp;quot;:&amp;quot;.&amp;quot;;return t}clone(){return new p(this.size,this.bits.slice())}}!function(t){t[t.OTHER=0]=&amp;quot;OTHER&amp;quot;,t[t.PURE_BARCODE=1]=&amp;quot;PURE_BARCODE&amp;quot;,t[t.POSSIBLE_FORMATS=2]=&amp;quot;POSSIBLE_FORMATS&amp;quot;,t[t.TRY_HARDER=3]=&amp;quot;TRY_HARDER&amp;quot;,t[t.CHARACTER_SET=4]=&amp;quot;CHARACTER_SET&amp;quot;,t[t.ALLOWED_LENGTHS=5]=&amp;quot;ALLOWED_LENGTHS&amp;quot;,t[t.ASSUME_CODE_39_CHECK_DIGIT=6]=&amp;quot;ASSUME_CODE_39_CHECK_DIGIT&amp;quot;,t[t.ASSUME_GS1=7]=&amp;quot;ASSUME_GS1&amp;quot;,t[t.RETURN_CODABAR_START_END=8]=&amp;quot;RETURN_CODABAR_START_END&amp;quot;,t[t.NEED_RESULT_POINT_CALLBACK=9]=&amp;quot;NEED_RESULT_POINT_CALLBACK&amp;quot;,t[t.ALLOWED_EAN_EXTENSIONS=10]=&amp;quot;ALLOWED_EAN_EXTENSIONS&amp;quot;}(i||(i={}));var A,C=i;class E extends s{static getFormatInstance(){return new E}}E.kind=&amp;quot;FormatException&amp;quot;,function(t){t[t.Cp437=0]=&amp;quot;Cp437&amp;quot;,t[t.ISO8859_1=1]=&amp;quot;ISO8859_1&amp;quot;,t[t.ISO8859_2=2]=&amp;quot;ISO8859_2&amp;quot;,t[t.ISO8859_3=3]=&amp;quot;ISO8859_3&amp;quot;,t[t.ISO8859_4=4]=&amp;quot;ISO8859_4&amp;quot;,t[t.ISO8859_5=5]=&amp;quot;ISO8859_5&amp;quot;,t[t.ISO8859_6=6]=&amp;quot;ISO8859_6&amp;quot;,t[t.ISO8859_7=7]=&amp;quot;ISO8859_7&amp;quot;,t[t.ISO8859_8=8]=&amp;quot;ISO8859_8&amp;quot;,t[t.ISO8859_9=9]=&amp;quot;ISO8859_9&amp;quot;,t[t.ISO8859_10=10]=&amp;quot;ISO8859_10&amp;quot;,t[t.ISO8859_11=11]=&amp;quot;ISO8859_11&amp;quot;,t[t.ISO8859_13=12]=&amp;quot;ISO8859_13&amp;quot;,t[t.ISO8859_14=13]=&amp;quot;ISO8859_14&amp;quot;,t[t.ISO8859_15=14]=&amp;quot;ISO8859_15&amp;quot;,t[t.ISO8859_16=15]=&amp;quot;ISO8859_16&amp;quot;,t[t.SJIS=16]=&amp;quot;SJIS&amp;quot;,t[t.Cp1250=17]=&amp;quot;Cp1250&amp;quot;,t[t.Cp1251=18]=&amp;quot;Cp1251&amp;quot;,t[t.Cp1252=19]=&amp;quot;Cp1252&amp;quot;,t[t.Cp1256=20]=&amp;quot;Cp1256&amp;quot;,t[t.UnicodeBigUnmarked=21]=&amp;quot;UnicodeBigUnmarked&amp;quot;,t[t.UTF8=22]=&amp;quot;UTF8&amp;quot;,t[t.ASCII=23]=&amp;quot;ASCII&amp;quot;,t[t.Big5=24]=&amp;quot;Big5&amp;quot;,t[t.GB18030=25]=&amp;quot;GB18030&amp;quot;,t[t.EUC_KR=26]=&amp;quot;EUC_KR&amp;quot;}(A||(A={}));class I{constructor(t,e,r,...n){this.valueIdentifier=t,this.name=r,this.values=&amp;quot;number&amp;quot;==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=n,I.VALUE_IDENTIFIER_TO_ECI.set(t,this),I.NAME_TO_ECI.set(r,this);const i=this.values;for(let t=0,e=i.length;t!==e;t++){const e=i[t];I.VALUES_TO_ECI.set(e,this)}for(const t of n)I.NAME_TO_ECI.set(t,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t&amp;lt;0||t&amp;gt;=900)throw new E(&amp;quot;incorect value&amp;quot;);const e=I.VALUES_TO_ECI.get(t);if(void 0===e)throw new E(&amp;quot;incorect value&amp;quot;);return e}static getCharacterSetECIByName(t){const e=I.NAME_TO_ECI.get(t);if(void 0===e)throw new E(&amp;quot;incorect value&amp;quot;);return e}equals(t){if(!(t instanceof I))return!1;const e=t;return this.getName()===e.getName()}}I.VALUE_IDENTIFIER_TO_ECI=new Map,I.VALUES_TO_ECI=new Map,I.NAME_TO_ECI=new Map,I.Cp437=new I(A.Cp437,Int32Array.from([0,2]),&amp;quot;Cp437&amp;quot;),I.ISO8859_1=new I(A.ISO8859_1,Int32Array.from([1,3]),&amp;quot;ISO-8859-1&amp;quot;,&amp;quot;ISO88591&amp;quot;,&amp;quot;ISO8859_1&amp;quot;),I.ISO8859_2=new I(A.ISO8859_2,4,&amp;quot;ISO-8859-2&amp;quot;,&amp;quot;ISO88592&amp;quot;,&amp;quot;ISO8859_2&amp;quot;),I.ISO8859_3=new I(A.ISO8859_3,5,&amp;quot;ISO-8859-3&amp;quot;,&amp;quot;ISO88593&amp;quot;,&amp;quot;ISO8859_3&amp;quot;),I.ISO8859_4=new I(A.ISO8859_4,6,&amp;quot;ISO-8859-4&amp;quot;,&amp;quot;ISO88594&amp;quot;,&amp;quot;ISO8859_4&amp;quot;),I.ISO8859_5=new I(A.ISO8859_5,7,&amp;quot;ISO-8859-5&amp;quot;,&amp;quot;ISO88595&amp;quot;,&amp;quot;ISO8859_5&amp;quot;),I.ISO8859_6=new I(A.ISO8859_6,8,&amp;quot;ISO-8859-6&amp;quot;,&amp;quot;ISO88596&amp;quot;,&amp;quot;ISO8859_6&amp;quot;),I.ISO8859_7=new I(A.ISO8859_7,9,&amp;quot;ISO-8859-7&amp;quot;,&amp;quot;ISO88597&amp;quot;,&amp;quot;ISO8859_7&amp;quot;),I.ISO8859_8=new I(A.ISO8859_8,10,&amp;quot;ISO-8859-8&amp;quot;,&amp;quot;ISO88598&amp;quot;,&amp;quot;ISO8859_8&amp;quot;),I.ISO8859_9=new I(A.ISO8859_9,11,&amp;quot;ISO-8859-9&amp;quot;,&amp;quot;ISO88599&amp;quot;,&amp;quot;ISO8859_9&amp;quot;),I.ISO8859_10=new I(A.ISO8859_10,12,&amp;quot;ISO-8859-10&amp;quot;,&amp;quot;ISO885910&amp;quot;,&amp;quot;ISO8859_10&amp;quot;),I.ISO8859_11=new I(A.ISO8859_11,13,&amp;quot;ISO-8859-11&amp;quot;,&amp;quot;ISO885911&amp;quot;,&amp;quot;ISO8859_11&amp;quot;),I.ISO8859_13=new I(A.ISO8859_13,15,&amp;quot;ISO-8859-13&amp;quot;,&amp;quot;ISO885913&amp;quot;,&amp;quot;ISO8859_13&amp;quot;),I.ISO8859_14=new I(A.ISO8859_14,16,&amp;quot;ISO-8859-14&amp;quot;,&amp;quot;ISO885914&amp;quot;,&amp;quot;ISO8859_14&amp;quot;),I.ISO8859_15=new I(A.ISO8859_15,17,&amp;quot;ISO-8859-15&amp;quot;,&amp;quot;ISO885915&amp;quot;,&amp;quot;ISO8859_15&amp;quot;),I.ISO8859_16=new I(A.ISO8859_16,18,&amp;quot;ISO-8859-16&amp;quot;,&amp;quot;ISO885916&amp;quot;,&amp;quot;ISO8859_16&amp;quot;),I.SJIS=new I(A.SJIS,20,&amp;quot;SJIS&amp;quot;,&amp;quot;Shift_JIS&amp;quot;),I.Cp1250=new I(A.Cp1250,21,&amp;quot;Cp1250&amp;quot;,&amp;quot;windows-1250&amp;quot;),I.Cp1251=new I(A.Cp1251,22,&amp;quot;Cp1251&amp;quot;,&amp;quot;windows-1251&amp;quot;),I.Cp1252=new I(A.Cp1252,23,&amp;quot;Cp1252&amp;quot;,&amp;quot;windows-1252&amp;quot;),I.Cp1256=new I(A.Cp1256,24,&amp;quot;Cp1256&amp;quot;,&amp;quot;windows-1256&amp;quot;),I.UnicodeBigUnmarked=new I(A.UnicodeBigUnmarked,25,&amp;quot;UnicodeBigUnmarked&amp;quot;,&amp;quot;UTF-16BE&amp;quot;,&amp;quot;UnicodeBig&amp;quot;),I.UTF8=new I(A.UTF8,26,&amp;quot;UTF8&amp;quot;,&amp;quot;UTF-8&amp;quot;),I.ASCII=new I(A.ASCII,Int32Array.from([27,170]),&amp;quot;ASCII&amp;quot;,&amp;quot;US-ASCII&amp;quot;),I.Big5=new I(A.Big5,28,&amp;quot;Big5&amp;quot;),I.GB18030=new I(A.GB18030,29,&amp;quot;GB18030&amp;quot;,&amp;quot;GB2312&amp;quot;,&amp;quot;EUC_CN&amp;quot;,&amp;quot;GBK&amp;quot;),I.EUC_KR=new I(A.EUC_KR,30,&amp;quot;EUC_KR&amp;quot;,&amp;quot;EUC-KR&amp;quot;);class S extends s{}S.kind=&amp;quot;UnsupportedOperationException&amp;quot;;class _{static decode(t,e){const r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):&amp;quot;undefined&amp;quot;==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!_.isBrowser()&amp;amp;&amp;amp;&amp;quot;ISO-8859-1&amp;quot;===t}static encode(t,e){const r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):&amp;quot;undefined&amp;quot;==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)}static isBrowser(){return&amp;quot;undefined&amp;quot;!=typeof window&amp;amp;&amp;amp;&amp;quot;[object Window]&amp;quot;==={}.toString.call(window)}static encodingName(t){return&amp;quot;string&amp;quot;==typeof t?t:t.getName()}static encodingCharacterSet(t){return t instanceof I?t:I.getCharacterSetECIByName(t)}static decodeFallback(t,e){const r=this.encodingCharacterSet(e);if(_.isDecodeFallbackSupported(r)){let e=&amp;quot;&amp;quot;;for(let r=0,n=t.length;r&amp;lt;n;r++){let n=t[r].toString(16);n.length&amp;lt;2&amp;amp;&amp;amp;(n=&amp;quot;0&amp;quot;+n),e+=&amp;quot;%&amp;quot;+n}return decodeURIComponent(e)}if(r.equals(I.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new S(`Encoding ${this.encodingName(e)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(I.UTF8)||t.equals(I.ISO8859_1)||t.equals(I.ASCII)}static encodeFallback(t){const e=btoa(unescape(encodeURIComponent(t))).split(&amp;quot;&amp;quot;),r=[];for(let t=0;t&amp;lt;e.length;t++)r.push(e[t].charCodeAt(0));return new Uint8Array(r)}}class T{static castAsNonUtf8Char(t,e=null){const r=e?e.getName():this.ISO88591;return _.decode(new Uint8Array([t]),r)}static guessEncoding(t,e){if(null!=e&amp;amp;&amp;amp;void 0!==e.get(C.CHARACTER_SET))return e.get(C.CHARACTER_SET).toString();const r=t.length;let n=!0,i=!0,o=!0,s=0,a=0,c=0,l=0,h=0,u=0,d=0,f=0,g=0,w=0,m=0;const p=t.length&amp;gt;3&amp;amp;&amp;amp;239===t[0]&amp;amp;&amp;amp;187===t[1]&amp;amp;&amp;amp;191===t[2];for(let e=0;e&amp;lt;r&amp;amp;&amp;amp;(n||i||o);e++){const r=255&amp;amp;t[e];o&amp;amp;&amp;amp;(s&amp;gt;0?0==(128&amp;amp;r)?o=!1:s--:0!=(128&amp;amp;r)&amp;amp;&amp;amp;(0==(64&amp;amp;r)?o=!1:(s++,0==(32&amp;amp;r)?a++:(s++,0==(16&amp;amp;r)?c++:(s++,0==(8&amp;amp;r)?l++:o=!1))))),n&amp;amp;&amp;amp;(r&amp;gt;127&amp;amp;&amp;amp;r&amp;lt;160?n=!1:r&amp;gt;159&amp;amp;&amp;amp;(r&amp;lt;192||215===r||247===r)&amp;amp;&amp;amp;m++),i&amp;amp;&amp;amp;(h&amp;gt;0?r&amp;lt;64||127===r||r&amp;gt;252?i=!1:h--:128===r||160===r||r&amp;gt;239?i=!1:r&amp;gt;160&amp;amp;&amp;amp;r&amp;lt;224?(u++,f=0,d++,d&amp;gt;g&amp;amp;&amp;amp;(g=d)):r&amp;gt;127?(h++,d=0,f++,f&amp;gt;w&amp;amp;&amp;amp;(w=f)):(d=0,f=0))}return o&amp;amp;&amp;amp;s&amp;gt;0&amp;amp;&amp;amp;(o=!1),i&amp;amp;&amp;amp;h&amp;gt;0&amp;amp;&amp;amp;(i=!1),o&amp;amp;&amp;amp;(p||a+c+l&amp;gt;0)?T.UTF8:i&amp;amp;&amp;amp;(T.ASSUME_SHIFT_JIS||g&amp;gt;=3||w&amp;gt;=3)?T.SHIFT_JIS:n&amp;amp;&amp;amp;i?2===g&amp;amp;&amp;amp;2===u||10*m&amp;gt;=r?T.SHIFT_JIS:T.ISO88591:n?T.ISO88591:i?T.SHIFT_JIS:o?T.UTF8:T.PLATFORM_DEFAULT_ENCODING}static format(t,...e){let r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,n,i,o,s,a){if(&amp;quot;%%&amp;quot;===t)return&amp;quot;%&amp;quot;;if(void 0===e[++r])return;t=o?parseInt(o.substr(1)):void 0;let c,l=s?parseInt(s.substr(1)):void 0;switch(a){case&amp;quot;s&amp;quot;:c=e[r];break;case&amp;quot;c&amp;quot;:c=e[r][0];break;case&amp;quot;f&amp;quot;:c=parseFloat(e[r]).toFixed(t);break;case&amp;quot;p&amp;quot;:c=parseFloat(e[r]).toPrecision(t);break;case&amp;quot;e&amp;quot;:c=parseFloat(e[r]).toExponential(t);break;case&amp;quot;x&amp;quot;:c=parseInt(e[r]).toString(l||16);break;case&amp;quot;d&amp;quot;:c=parseFloat(parseInt(e[r],l||10).toPrecision(t)).toFixed(0)}c=&amp;quot;object&amp;quot;==typeof c?JSON.stringify(c):(+c).toString(l);let h=parseInt(i),u=i&amp;amp;&amp;amp;i[0]+&amp;quot;&amp;quot;==&amp;quot;0&amp;quot;?&amp;quot;0&amp;quot;:&amp;quot; &amp;quot;;for(;c.length&amp;lt;h;)c=void 0!==n?c+u:u+c;return c}))}static getBytes(t,e){return _.encode(t,e)}static getCharCode(t,e=0){return t.charCodeAt(e)}static getCharAt(t){return String.fromCharCode(t)}}T.SHIFT_JIS=I.SJIS.getName(),T.GB2312=&amp;quot;GB2312&amp;quot;,T.ISO88591=I.ISO8859_1.getName(),T.EUC_JP=&amp;quot;EUC_JP&amp;quot;,T.UTF8=I.UTF8.getName(),T.PLATFORM_DEFAULT_ENCODING=T.UTF8,T.ASSUME_SHIFT_JIS=!1;class y{constructor(t=&amp;quot;&amp;quot;){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return&amp;quot;string&amp;quot;==typeof t?this.value+=t.toString():this.encoding?this.value+=T.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,e,r){for(let n=e;e&amp;lt;e+r;n++)this.append(t[n]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)}substring(t,e){return this.value.substring(t,e)}setLengthToZero(){this.value=&amp;quot;&amp;quot;}toString(){return this.value}insert(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)}}class N{constructor(t,e,r,n){if(this.width=t,this.height=e,this.rowSize=r,this.bits=n,null==e&amp;amp;&amp;amp;(e=t),this.height=e,t&amp;lt;1||e&amp;lt;1)throw new c(&amp;quot;Both dimensions must be greater than 0&amp;quot;);null==r&amp;amp;&amp;amp;(r=Math.floor((t+31)/32)),this.rowSize=r,null==n&amp;amp;&amp;amp;(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const e=t.length,r=t[0].length,n=new N(r,e);for(let i=0;i&amp;lt;e;i++){const e=t[i];for(let t=0;t&amp;lt;r;t++)e[t]&amp;amp;&amp;amp;n.set(t,i)}return n}static parseFromString(t,e,r){if(null===t)throw new c(&amp;quot;stringRepresentation cannot be null&amp;quot;);const n=new Array(t.length);let i=0,o=0,s=-1,a=0,l=0;for(;l&amp;lt;t.length;)if(&amp;quot;\\n&amp;quot;===t.charAt(l)||&amp;quot;\\r&amp;quot;===t.charAt(l)){if(i&amp;gt;o){if(-1===s)s=i-o;else if(i-o!==s)throw new c(&amp;quot;row lengths do not match&amp;quot;);o=i,a++}l++}else if(t.substring(l,l+e.length)===e)l+=e.length,n[i]=!0,i++;else{if(t.substring(l,l+r.length)!==r)throw new c(&amp;quot;illegal character encountered: &amp;quot;+t.substring(l));l+=r.length,n[i]=!1,i++}if(i&amp;gt;o){if(-1===s)s=i-o;else if(i-o!==s)throw new c(&amp;quot;row lengths do not match&amp;quot;);a++}const h=new N(s,a);for(let t=0;t&amp;lt;i;t++)n[t]&amp;amp;&amp;amp;h.set(Math.floor(t%s),Math.floor(t/s));return h}get(t,e){const r=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[r]&amp;gt;&amp;gt;&amp;gt;(31&amp;amp;t)&amp;amp;1)}set(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1&amp;lt;&amp;lt;(31&amp;amp;t)&amp;amp;4294967295}unset(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]&amp;amp;=~(1&amp;lt;&amp;lt;(31&amp;amp;t)&amp;amp;4294967295)}flip(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1&amp;lt;&amp;lt;(31&amp;amp;t)&amp;amp;4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new c(&amp;quot;input matrix dimensions do not match&amp;quot;);const e=new p(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i&amp;lt;o;i++){const o=i*r,s=t.getRow(i,e).getBitArray();for(let t=0;t&amp;lt;r;t++)n[o+t]^=s[t]}}clear(){const t=this.bits,e=t.length;for(let r=0;r&amp;lt;e;r++)t[r]=0}setRegion(t,e,r,n){if(e&amp;lt;0||t&amp;lt;0)throw new c(&amp;quot;Left and top must be nonnegative&amp;quot;);if(n&amp;lt;1||r&amp;lt;1)throw new c(&amp;quot;Height and width must be at least 1&amp;quot;);const i=t+r,o=e+n;if(o&amp;gt;this.height||i&amp;gt;this.width)throw new c(&amp;quot;The region must fit inside the matrix&amp;quot;);const s=this.rowSize,a=this.bits;for(let r=e;r&amp;lt;o;r++){const e=r*s;for(let r=t;r&amp;lt;i;r++)a[e+Math.floor(r/32)]|=1&amp;lt;&amp;lt;(31&amp;amp;r)&amp;amp;4294967295}}getRow(t,e){null==e||e.getSize()&amp;lt;this.width?e=new p(this.width):e.clear();const r=this.rowSize,n=this.bits,i=t*r;for(let t=0;t&amp;lt;r;t++)e.setBulk(32*t,n[i+t]);return e}setRow(t,e){d.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),e=this.getHeight();let r=new p(t),n=new p(t);for(let t=0,i=Math.floor((e+1)/2);t&amp;lt;i;t++)r=this.getRow(t,r),n=this.getRow(e-1-t,n),r.reverse(),n.reverse(),this.setRow(t,n),this.setRow(e-1-t,r)}getEnclosingRectangle(){const t=this.width,e=this.height,r=this.rowSize,n=this.bits;let i=t,o=e,s=-1,a=-1;for(let t=0;t&amp;lt;e;t++)for(let e=0;e&amp;lt;r;e++){const c=n[t*r+e];if(0!==c){if(t&amp;lt;o&amp;amp;&amp;amp;(o=t),t&amp;gt;a&amp;amp;&amp;amp;(a=t),32*e&amp;lt;i){let t=0;for(;0==(c&amp;lt;&amp;lt;31-t&amp;amp;4294967295);)t++;32*e+t&amp;lt;i&amp;amp;&amp;amp;(i=32*e+t)}if(32*e+31&amp;gt;s){let t=31;for(;c&amp;gt;&amp;gt;&amp;gt;t==0;)t--;32*e+t&amp;gt;s&amp;amp;&amp;amp;(s=32*e+t)}}}return s&amp;lt;i||a&amp;lt;o?null:Int32Array.from([i,o,s-i+1,a-o+1])}getTopLeftOnBit(){const t=this.rowSize,e=this.bits;let r=0;for(;r&amp;lt;e.length&amp;amp;&amp;amp;0===e[r];)r++;if(r===e.length)return null;const n=r/t;let i=r%t*32;const o=e[r];let s=0;for(;0==(o&amp;lt;&amp;lt;31-s&amp;amp;4294967295);)s++;return i+=s,Int32Array.from([i,n])}getBottomRightOnBit(){const t=this.rowSize,e=this.bits;let r=e.length-1;for(;r&amp;gt;=0&amp;amp;&amp;amp;0===e[r];)r--;if(r&amp;lt;0)return null;const n=Math.floor(r/t);let i=32*Math.floor(r%t);const o=e[r];let s=31;for(;o&amp;gt;&amp;gt;&amp;gt;s==0;)s--;return i+=s,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof N))return!1;const e=t;return this.width===e.width&amp;amp;&amp;amp;this.height===e.height&amp;amp;&amp;amp;this.rowSize===e.rowSize&amp;amp;&amp;amp;w.equals(this.bits,e.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+w.hashCode(this.bits),t}toString(t=&amp;quot;X &amp;quot;,e=&amp;quot;  &amp;quot;,r=&amp;quot;\\n&amp;quot;){return this.buildToString(t,e,r)}buildToString(t,e,r){let n=new y;for(let i=0,o=this.height;i&amp;lt;o;i++){for(let r=0,o=this.width;r&amp;lt;o;r++)n.append(this.get(r,i)?t:e);n.append(r)}return n.toString()}clone(){return new N(this.width,this.height,this.rowSize,this.bits.slice())}}class D extends s{static getNotFoundInstance(){return new D}}D.kind=&amp;quot;NotFoundException&amp;quot;;class M extends u{constructor(t){super(t),this.luminances=M.EMPTY,this.buckets=new Int32Array(M.LUMINANCE_BUCKETS)}getBlackRow(t,e){const r=this.getLuminanceSource(),n=r.getWidth();null==e||e.getSize()&amp;lt;n?e=new p(n):e.clear(),this.initArrays(n);const i=r.getRow(t,this.luminances),o=this.buckets;for(let t=0;t&amp;lt;n;t++)o[(255&amp;amp;i[t])&amp;gt;&amp;gt;M.LUMINANCE_SHIFT]++;const s=M.estimateBlackPoint(o);if(n&amp;lt;3)for(let t=0;t&amp;lt;n;t++)(255&amp;amp;i[t])&amp;lt;s&amp;amp;&amp;amp;e.set(t);else{let t=255&amp;amp;i[0],r=255&amp;amp;i[1];for(let o=1;o&amp;lt;n-1;o++){const n=255&amp;amp;i[o+1];(4*r-t-n)/2&amp;lt;s&amp;amp;&amp;amp;e.set(o),t=r,r=n}}return e}getBlackMatrix(){const t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight(),n=new N(e,r);this.initArrays(e);const i=this.buckets;for(let n=1;n&amp;lt;5;n++){const o=Math.floor(r*n/5),s=t.getRow(o,this.luminances),a=Math.floor(4*e/5);for(let t=Math.floor(e/5);t&amp;lt;a;t++)i[(255&amp;amp;s[t])&amp;gt;&amp;gt;M.LUMINANCE_SHIFT]++}const o=M.estimateBlackPoint(i),s=t.getMatrix();for(let t=0;t&amp;lt;r;t++){const r=t*e;for(let i=0;i&amp;lt;e;i++)(255&amp;amp;s[r+i])&amp;lt;o&amp;amp;&amp;amp;n.set(i,t)}return n}createBinarizer(t){return new M(t)}initArrays(t){this.luminances.length&amp;lt;t&amp;amp;&amp;amp;(this.luminances=new Uint8ClampedArray(t));const e=this.buckets;for(let t=0;t&amp;lt;M.LUMINANCE_BUCKETS;t++)e[t]=0}static estimateBlackPoint(t){const e=t.length;let r=0,n=0,i=0;for(let o=0;o&amp;lt;e;o++)t[o]&amp;gt;i&amp;amp;&amp;amp;(n=o,i=t[o]),t[o]&amp;gt;r&amp;amp;&amp;amp;(r=t[o]);let o=0,s=0;for(let r=0;r&amp;lt;e;r++){const e=r-n,i=t[r]*e*e;i&amp;gt;s&amp;amp;&amp;amp;(o=r,s=i)}if(n&amp;gt;o){const t=n;n=o,o=t}if(o-n&amp;lt;=e/16)throw new D;let a=o-1,c=-1;for(let e=o-1;e&amp;gt;n;e--){const i=e-n,s=i*i*(o-e)*(r-t[e]);s&amp;gt;c&amp;amp;&amp;amp;(a=e,c=s)}return a&amp;lt;&amp;lt;M.LUMINANCE_SHIFT}}M.LUMINANCE_BITS=5,M.LUMINANCE_SHIFT=8-M.LUMINANCE_BITS,M.LUMINANCE_BUCKETS=1&amp;lt;&amp;lt;M.LUMINANCE_BITS,M.EMPTY=Uint8ClampedArray.from([0]);class R extends M{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight();if(e&amp;gt;=R.MINIMUM_DIMENSION&amp;amp;&amp;amp;r&amp;gt;=R.MINIMUM_DIMENSION){const n=t.getMatrix();let i=e&amp;gt;&amp;gt;R.BLOCK_SIZE_POWER;0!=(e&amp;amp;R.BLOCK_SIZE_MASK)&amp;amp;&amp;amp;i++;let o=r&amp;gt;&amp;gt;R.BLOCK_SIZE_POWER;0!=(r&amp;amp;R.BLOCK_SIZE_MASK)&amp;amp;&amp;amp;o++;const s=R.calculateBlackPoints(n,i,o,e,r),a=new N(e,r);R.calculateThresholdForBlock(n,i,o,e,r,s,a),this.matrix=a}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new R(t)}static calculateThresholdForBlock(t,e,r,n,i,o,s){const a=i-R.BLOCK_SIZE,c=n-R.BLOCK_SIZE;for(let i=0;i&amp;lt;r;i++){let l=i&amp;lt;&amp;lt;R.BLOCK_SIZE_POWER;l&amp;gt;a&amp;amp;&amp;amp;(l=a);const h=R.cap(i,2,r-3);for(let r=0;r&amp;lt;e;r++){let i=r&amp;lt;&amp;lt;R.BLOCK_SIZE_POWER;i&amp;gt;c&amp;amp;&amp;amp;(i=c);const a=R.cap(r,2,e-3);let u=0;for(let t=-2;t&amp;lt;=2;t++){const e=o[h+t];u+=e[a-2]+e[a-1]+e[a]+e[a+1]+e[a+2]}const d=u/25;R.thresholdBlock(t,i,l,d,n,s)}}}static cap(t,e,r){return t&amp;lt;e?e:t&amp;gt;r?r:t}static thresholdBlock(t,e,r,n,i,o){for(let s=0,a=r*i+e;s&amp;lt;R.BLOCK_SIZE;s++,a+=i)for(let i=0;i&amp;lt;R.BLOCK_SIZE;i++)(255&amp;amp;t[a+i])&amp;lt;=n&amp;amp;&amp;amp;o.set(e+i,r+s)}static calculateBlackPoints(t,e,r,n,i){const o=i-R.BLOCK_SIZE,s=n-R.BLOCK_SIZE,a=new Array(r);for(let i=0;i&amp;lt;r;i++){a[i]=new Int32Array(e);let r=i&amp;lt;&amp;lt;R.BLOCK_SIZE_POWER;r&amp;gt;o&amp;amp;&amp;amp;(r=o);for(let o=0;o&amp;lt;e;o++){let e=o&amp;lt;&amp;lt;R.BLOCK_SIZE_POWER;e&amp;gt;s&amp;amp;&amp;amp;(e=s);let c=0,l=255,h=0;for(let i=0,o=r*n+e;i&amp;lt;R.BLOCK_SIZE;i++,o+=n){for(let e=0;e&amp;lt;R.BLOCK_SIZE;e++){const r=255&amp;amp;t[o+e];c+=r,r&amp;lt;l&amp;amp;&amp;amp;(l=r),r&amp;gt;h&amp;amp;&amp;amp;(h=r)}if(h-l&amp;gt;R.MIN_DYNAMIC_RANGE)for(i++,o+=n;i&amp;lt;R.BLOCK_SIZE;i++,o+=n)for(let e=0;e&amp;lt;R.BLOCK_SIZE;e++)c+=255&amp;amp;t[o+e]}let u=c&amp;gt;&amp;gt;2*R.BLOCK_SIZE_POWER;if(h-l&amp;lt;=R.MIN_DYNAMIC_RANGE&amp;amp;&amp;amp;(u=l/2,i&amp;gt;0&amp;amp;&amp;amp;o&amp;gt;0)){const t=(a[i-1][o]+2*a[i][o-1]+a[i-1][o-1])/4;l&amp;lt;t&amp;amp;&amp;amp;(u=t)}a[i][o]=u}}return a}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1&amp;lt;&amp;lt;R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class O{constructor(t,e){this.width=t,this.height=e}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,e,r,n){throw new S(&amp;quot;This luminance source does not support cropping.&amp;quot;)}isRotateSupported(){return!1}rotateCounterClockwise(){throw new S(&amp;quot;This luminance source does not support rotation by 90 degrees.&amp;quot;)}rotateCounterClockwise45(){throw new S(&amp;quot;This luminance source does not support rotation by 45 degrees.&amp;quot;)}toString(){const t=new Uint8ClampedArray(this.width);let e=new y;for(let r=0;r&amp;lt;this.height;r++){const n=this.getRow(r,t);for(let t=0;t&amp;lt;this.width;t++){const r=255&amp;amp;n[t];let i;i=r&amp;lt;64?&amp;quot;#&amp;quot;:r&amp;lt;128?&amp;quot;+&amp;quot;:r&amp;lt;192?&amp;quot;.&amp;quot;:&amp;quot; &amp;quot;,e.append(i)}e.append(&amp;quot;\\n&amp;quot;)}return e.toString()}}class b extends O{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,e){const r=this.delegate.getRow(t,e),n=this.getWidth();for(let t=0;t&amp;lt;n;t++)r[t]=255-(255&amp;amp;r[t]);return r}getMatrix(){const t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(e);for(let n=0;n&amp;lt;e;n++)r[n]=255-(255&amp;amp;t[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,e,r,n){return new b(this.delegate.crop(t,e,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new b(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new b(this.delegate.rotateCounterClockwise45())}}class B extends O{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const e=t.getContext(&amp;quot;2d&amp;quot;).getImageData(0,0,t.width,t.height);return B.toGrayscaleBuffer(e.data,t.width,t.height)}static toGrayscaleBuffer(t,e,r){const n=new Uint8ClampedArray(e*r);for(let e=0,r=0,i=t.length;e&amp;lt;i;e+=4,r++){let i;i=0===t[e+3]?255:306*t[e]+601*t[e+1]+117*t[e+2]+512&amp;gt;&amp;gt;10,n[r]=i}return n}getRow(t,e){if(t&amp;lt;0||t&amp;gt;=this.getHeight())throw new c(&amp;quot;Requested row is outside the image: &amp;quot;+t);const r=this.getWidth(),n=t*r;return null===e?e=this.buffer.slice(n,n+r):(e.length&amp;lt;r&amp;amp;&amp;amp;(e=new Uint8ClampedArray(r)),e.set(this.buffer.slice(n,n+r))),e}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,e,r,n){return super.crop(t,e,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const t=this.canvas.ownerDocument.createElement(&amp;quot;canvas&amp;quot;);t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const e=this.getTempCanvasElement(),r=e.getContext(&amp;quot;2d&amp;quot;),n=t*B.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),a=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return e.width=s,e.height=a,r.translate(s/2,a/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=B.makeBufferFromCanvasImageData(e),this}invert(){return new b(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(t,e,r){this.deviceId=t,this.label=e,this.kind=&amp;quot;videoinput&amp;quot;,this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var P,v=(globalThis||r.g||self||window?(globalThis||r.g||self||window||void 0).__awaiter:void 0)||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))};class F{constructor(t,e=500,r){this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return&amp;quot;undefined&amp;quot;!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&amp;amp;&amp;amp;!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t&amp;lt;0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return v(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error(&amp;quot;Can&amp;apos;t enumerate devices, navigator is not present.&amp;quot;);if(!this.canEnumerateDevices)throw new Error(&amp;quot;Can&amp;apos;t enumerate devices, method not supported.&amp;quot;);const t=yield navigator.mediaDevices.enumerateDevices(),e=[];for(const r of t){const t=&amp;quot;video&amp;quot;===r.kind?&amp;quot;videoinput&amp;quot;:r.kind;if(&amp;quot;videoinput&amp;quot;!==t)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${e.length+1}`,kind:t,groupId:r.groupId};e.push(n)}return e}))}getVideoInputDevices(){return v(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((t=&amp;gt;new L(t.deviceId,t.label)))}))}findDeviceById(t){return v(this,void 0,void 0,(function*(){const e=yield this.listVideoInputDevices();return e?e.find((e=&amp;gt;e.deviceId===t)):null}))}decodeFromInputVideoDevice(t,e){return v(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(t,e)}))}decodeOnceFromVideoDevice(t,e){return v(this,void 0,void 0,(function*(){let r;this.reset(),r=t?{deviceId:{exact:t}}:{facingMode:&amp;quot;environment&amp;quot;};const n={video:r};return yield this.decodeOnceFromConstraints(n,e)}))}decodeOnceFromConstraints(t,e){return v(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,e)}))}decodeOnceFromStream(t,e){return v(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(t,e);return yield this.decodeOnce(r)}))}decodeFromInputVideoDeviceContinuously(t,e,r){return v(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(t,e,r)}))}decodeFromVideoDevice(t,e,r){return v(this,void 0,void 0,(function*(){let n;n=t?{deviceId:{exact:t}}:{facingMode:&amp;quot;environment&amp;quot;};const i={video:n};return yield this.decodeFromConstraints(i,e,r)}))}decodeFromConstraints(t,e,r){return v(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(n,e,r)}))}decodeFromStream(t,e,r){return v(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(t,e);return yield this.decodeContinuously(n,r)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,e){return v(this,void 0,void 0,(function*(){const r=this.prepareVideoElement(e);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r}))}playVideoOnLoadAsync(t){return new Promise(((e,r)=&amp;gt;this.playVideoOnLoad(t,(()=&amp;gt;e()))))}playVideoOnLoad(t,e){this.videoEndedListener=()=&amp;gt;this.stopStreams(),this.videoCanPlayListener=()=&amp;gt;this.tryPlayVideo(t),t.addEventListener(&amp;quot;ended&amp;quot;,this.videoEndedListener),t.addEventListener(&amp;quot;canplay&amp;quot;,this.videoCanPlayListener),t.addEventListener(&amp;quot;playing&amp;quot;,e),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime&amp;gt;0&amp;amp;&amp;amp;!t.paused&amp;amp;&amp;amp;!t.ended&amp;amp;&amp;amp;t.readyState&amp;gt;2}tryPlayVideo(t){return v(this,void 0,void 0,(function*(){if(this.isVideoPlaying(t))console.warn(&amp;quot;Trying to play video that is already playing.&amp;quot;);else try{yield t.play()}catch(t){console.warn(&amp;quot;It was not possible to play the video.&amp;quot;)}}))}getMediaElement(t,e){const r=document.getElementById(t);if(!r)throw new a(`element with id &amp;apos;${t}&amp;apos; not found`);if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new a(`element with id &amp;apos;${t}&amp;apos; must be an ${e} element`);return r}decodeFromImage(t,e){if(!t&amp;amp;&amp;amp;!e)throw new a(&amp;quot;either imageElement with a src set or an url must be provided&amp;quot;);return e&amp;amp;&amp;amp;!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)}decodeFromVideo(t,e){if(!t&amp;amp;&amp;amp;!e)throw new a(&amp;quot;Either an element with a src set or an URL must be provided&amp;quot;);return e&amp;amp;&amp;amp;!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,e,r){if(void 0===t&amp;amp;&amp;amp;void 0===e)throw new a(&amp;quot;Either an element with a src set or an URL must be provided&amp;quot;);return e&amp;amp;&amp;amp;!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new a(&amp;quot;An image element must be provided.&amp;quot;);this.reset();const e=this.prepareImageElement(t);let r;return this.imageElement=e,r=this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e),r}decodeFromVideoElement(t){const e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)}decodeFromVideoElementContinuously(t,e){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)}_decodeFromVideoElementSetup(t){if(!t)throw new a(&amp;quot;A video element must be provided.&amp;quot;);this.reset();const e=this.prepareVideoElement(t);return this.videoElement=e,e}decodeFromImageUrl(t){if(!t)throw new a(&amp;quot;An URL must be provided.&amp;quot;);this.reset();const e=this.prepareImageElement();this.imageElement=e;const r=this._decodeOnLoadImage(e);return e.src=t,r}decodeFromVideoUrl(t){if(!t)throw new a(&amp;quot;An URL must be provided.&amp;quot;);this.reset();const e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r}decodeFromVideoUrlContinuously(t,e){if(!t)throw new a(&amp;quot;An URL must be provided.&amp;quot;);this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,e);return r.src=t,n}_decodeOnLoadImage(t){return new Promise(((e,r)=&amp;gt;{this.imageLoadedListener=()=&amp;gt;this.decodeOnce(t,!1,!0).then(e,r),t.addEventListener(&amp;quot;load&amp;quot;,this.imageLoadedListener)}))}_decodeOnLoadVideo(t){return v(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)}))}_decodeOnLoadVideoContinuously(t,e){return v(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,e)}))}isImageLoaded(t){return!!t.complete&amp;amp;&amp;amp;0!==t.naturalWidth}prepareImageElement(t){let e;return void 0===t&amp;amp;&amp;amp;(e=document.createElement(&amp;quot;img&amp;quot;),e.width=200,e.height=200),&amp;quot;string&amp;quot;==typeof t&amp;amp;&amp;amp;(e=this.getMediaElement(t,&amp;quot;img&amp;quot;)),t instanceof HTMLImageElement&amp;amp;&amp;amp;(e=t),e}prepareVideoElement(t){let e;return t||&amp;quot;undefined&amp;quot;==typeof document||(e=document.createElement(&amp;quot;video&amp;quot;),e.width=200,e.height=200),&amp;quot;string&amp;quot;==typeof t&amp;amp;&amp;amp;(e=this.getMediaElement(t,&amp;quot;video&amp;quot;)),t instanceof HTMLVideoElement&amp;amp;&amp;amp;(e=t),e.setAttribute(&amp;quot;autoplay&amp;quot;,&amp;quot;true&amp;quot;),e.setAttribute(&amp;quot;muted&amp;quot;,&amp;quot;true&amp;quot;),e.setAttribute(&amp;quot;playsinline&amp;quot;,&amp;quot;true&amp;quot;),e}decodeOnce(t,e=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=&amp;gt;{if(this._stopAsyncDecode)return o(new D(&amp;quot;Video stream has ended before any code could be detected.&amp;quot;)),void(this._stopAsyncDecode=void 0);try{i(this.decode(t))}catch(t){if(e&amp;amp;&amp;amp;t instanceof D||(t instanceof h||t instanceof E)&amp;amp;&amp;amp;r)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(t)}};return new Promise(((t,e)=&amp;gt;n(t,e)))}decodeContinuously(t,e){this._stopContinuousDecode=!1;const r=()=&amp;gt;{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(t);e(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(t){e(null,t),(t instanceof h||t instanceof E||t instanceof D)&amp;amp;&amp;amp;setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const e=this.createBinaryBitmap(t);return this.decodeBitmap(e)}_isHTMLVideoElement(t){return 0!==t.videoWidth}drawFrameOnCanvas(t,e,r){e||(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}drawImageOnCanvas(t,e,r=this.captureCanvasContext){e||(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const e=this.getCaptureCanvas(t),r=new B(e),n=new R(r);return new l(n)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const e=this.getCaptureCanvas(t).getContext(&amp;quot;2d&amp;quot;);this.captureCanvasContext=e}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(&amp;quot;undefined&amp;quot;==typeof document)return this._destroyCaptureCanvas(),null;const e=document.createElement(&amp;quot;canvas&amp;quot;);let r,n;return void 0!==t&amp;amp;&amp;amp;(t instanceof HTMLVideoElement?(r=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&amp;amp;&amp;amp;(r=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),e.style.width=r+&amp;quot;px&amp;quot;,e.style.height=n+&amp;quot;px&amp;quot;,e.width=r,e.height=n,e}stopStreams(){this.stream&amp;amp;&amp;amp;(this.stream.getVideoTracks().forEach((t=&amp;gt;t.stop())),this.stream=void 0),!1===this._stopAsyncDecode&amp;amp;&amp;amp;this.stopAsyncDecode(),!1===this._stopContinuousDecode&amp;amp;&amp;amp;this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&amp;amp;&amp;amp;(void 0!==this.videoEndedListener&amp;amp;&amp;amp;this.videoElement.removeEventListener(&amp;quot;ended&amp;quot;,this.videoEndedListener),void 0!==this.videoPlayingEventListener&amp;amp;&amp;amp;this.videoElement.removeEventListener(&amp;quot;playing&amp;quot;,this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&amp;amp;&amp;amp;this.videoElement.removeEventListener(&amp;quot;loadedmetadata&amp;quot;,this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&amp;amp;&amp;amp;(void 0!==this.imageLoadedListener&amp;amp;&amp;amp;this.imageElement.removeEventListener(&amp;quot;load&amp;quot;,this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute(&amp;quot;src&amp;quot;),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,e){try{t.srcObject=e}catch(r){t.src=URL.createObjectURL(e)}}cleanVideoSource(t){try{t.srcObject=null}catch(e){t.src=&amp;quot;&amp;quot;}this.videoElement.removeAttribute(&amp;quot;src&amp;quot;)}}class x{constructor(t,e,r=(null==e?0:8*e.length),n,i,o=d.currentTimeMillis()){this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=e,this.numBits=null==r?null==e?0:8*e.length:r,this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=null==o?d.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,e){null===this.resultMetadata&amp;amp;&amp;amp;(this.resultMetadata=new Map),this.resultMetadata.set(t,e)}putAllMetadata(t){null!==t&amp;amp;&amp;amp;(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&amp;amp;&amp;amp;t.length&amp;gt;0){const r=new Array(e.length+t.length);d.arraycopy(e,0,r,0,e.length),d.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(t){t[t.AZTEC=0]=&amp;quot;AZTEC&amp;quot;,t[t.CODABAR=1]=&amp;quot;CODABAR&amp;quot;,t[t.CODE_39=2]=&amp;quot;CODE_39&amp;quot;,t[t.CODE_93=3]=&amp;quot;CODE_93&amp;quot;,t[t.CODE_128=4]=&amp;quot;CODE_128&amp;quot;,t[t.DATA_MATRIX=5]=&amp;quot;DATA_MATRIX&amp;quot;,t[t.EAN_8=6]=&amp;quot;EAN_8&amp;quot;,t[t.EAN_13=7]=&amp;quot;EAN_13&amp;quot;,t[t.ITF=8]=&amp;quot;ITF&amp;quot;,t[t.MAXICODE=9]=&amp;quot;MAXICODE&amp;quot;,t[t.PDF_417=10]=&amp;quot;PDF_417&amp;quot;,t[t.QR_CODE=11]=&amp;quot;QR_CODE&amp;quot;,t[t.RSS_14=12]=&amp;quot;RSS_14&amp;quot;,t[t.RSS_EXPANDED=13]=&amp;quot;RSS_EXPANDED&amp;quot;,t[t.UPC_A=14]=&amp;quot;UPC_A&amp;quot;,t[t.UPC_E=15]=&amp;quot;UPC_E&amp;quot;,t[t.UPC_EAN_EXTENSION=16]=&amp;quot;UPC_EAN_EXTENSION&amp;quot;}(P||(P={}));var k,U=P;!function(t){t[t.OTHER=0]=&amp;quot;OTHER&amp;quot;,t[t.ORIENTATION=1]=&amp;quot;ORIENTATION&amp;quot;,t[t.BYTE_SEGMENTS=2]=&amp;quot;BYTE_SEGMENTS&amp;quot;,t[t.ERROR_CORRECTION_LEVEL=3]=&amp;quot;ERROR_CORRECTION_LEVEL&amp;quot;,t[t.ISSUE_NUMBER=4]=&amp;quot;ISSUE_NUMBER&amp;quot;,t[t.SUGGESTED_PRICE=5]=&amp;quot;SUGGESTED_PRICE&amp;quot;,t[t.POSSIBLE_COUNTRY=6]=&amp;quot;POSSIBLE_COUNTRY&amp;quot;,t[t.UPC_EAN_EXTENSION=7]=&amp;quot;UPC_EAN_EXTENSION&amp;quot;,t[t.PDF417_EXTRA_METADATA=8]=&amp;quot;PDF417_EXTRA_METADATA&amp;quot;,t[t.STRUCTURED_APPEND_SEQUENCE=9]=&amp;quot;STRUCTURED_APPEND_SEQUENCE&amp;quot;,t[t.STRUCTURED_APPEND_PARITY=10]=&amp;quot;STRUCTURED_APPEND_PARITY&amp;quot;}(k||(k={}));var H,V,z,G,Y,X,W=k;class j{constructor(t,e,r,n,i=-1,o=-1){this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity&amp;gt;=0&amp;amp;&amp;amp;this.structuredAppendSequenceNumber&amp;gt;=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Z{exp(t){return this.expTable[t]}log(t){if(0===t)throw new c;return this.logTable[t]}static addOrSubtract(t,e){return t^e}}class Q{constructor(t,e){if(0===e.length)throw new c;this.field=t;const r=e.length;if(r&amp;gt;1&amp;amp;&amp;amp;0===e[0]){let t=1;for(;t&amp;lt;r&amp;amp;&amp;amp;0===e[t];)t++;t===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-t),d.arraycopy(e,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(0===t)return this.getCoefficient(0);const e=this.coefficients;let r;if(1===t){r=0;for(let t=0,n=e.length;t!==n;t++){const n=e[t];r=Z.addOrSubtract(r,n)}return r}r=e[0];const n=e.length,i=this.field;for(let o=1;o&amp;lt;n;o++)r=Z.addOrSubtract(i.multiply(t,r),e[o]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new c(&amp;quot;GenericGFPolys do not have same GenericGF field&amp;quot;);if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,r=t.coefficients;if(e.length&amp;gt;r.length){const t=e;e=r,r=t}let n=new Int32Array(r.length);const i=r.length-e.length;d.arraycopy(r,0,n,0,i);for(let t=i;t&amp;lt;r.length;t++)n[t]=Z.addOrSubtract(e[t-i],r[t]);return new Q(this.field,n)}multiply(t){if(!this.field.equals(t.field))throw new c(&amp;quot;GenericGFPolys do not have same GenericGF field&amp;quot;);if(this.isZero()||t.isZero())return this.field.getZero();const e=this.coefficients,r=e.length,n=t.coefficients,i=n.length,o=new Int32Array(r+i-1),s=this.field;for(let t=0;t&amp;lt;r;t++){const r=e[t];for(let e=0;e&amp;lt;i;e++)o[t+e]=Z.addOrSubtract(o[t+e],s.multiply(r,n[e]))}return new Q(s,o)}multiplyScalar(t){if(0===t)return this.field.getZero();if(1===t)return this;const e=this.coefficients.length,r=this.field,n=new Int32Array(e),i=this.coefficients;for(let o=0;o&amp;lt;e;o++)n[o]=r.multiply(i[o],t);return new Q(r,n)}multiplyByMonomial(t,e){if(t&amp;lt;0)throw new c;if(0===e)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+t),o=this.field;for(let t=0;t&amp;lt;n;t++)i[t]=o.multiply(r[t],e);return new Q(o,i)}divide(t){if(!this.field.equals(t.field))throw new c(&amp;quot;GenericGFPolys do not have same GenericGF field&amp;quot;);if(t.isZero())throw new c(&amp;quot;Divide by 0&amp;quot;);const e=this.field;let r=e.getZero(),n=this;const i=t.getCoefficient(t.getDegree()),o=e.inverse(i);for(;n.getDegree()&amp;gt;=t.getDegree()&amp;amp;&amp;amp;!n.isZero();){const i=n.getDegree()-t.getDegree(),s=e.multiply(n.getCoefficient(n.getDegree()),o),a=t.multiplyByMonomial(i,s),c=e.buildMonomial(i,s);r=r.addOrSubtract(c),n=n.addOrSubtract(a)}return[r,n]}toString(){let t=&amp;quot;&amp;quot;;for(let e=this.getDegree();e&amp;gt;=0;e--){let r=this.getCoefficient(e);if(0!==r){if(r&amp;lt;0?(t+=&amp;quot; - &amp;quot;,r=-r):t.length&amp;gt;0&amp;amp;&amp;amp;(t+=&amp;quot; + &amp;quot;),0===e||1!==r){const e=this.field.log(r);0===e?t+=&amp;quot;1&amp;quot;:1===e?t+=&amp;quot;a&amp;quot;:(t+=&amp;quot;a^&amp;quot;,t+=e)}0!==e&amp;amp;&amp;amp;(1===e?t+=&amp;quot;x&amp;quot;:(t+=&amp;quot;x^&amp;quot;,t+=e))}}return t}}class K extends s{}K.kind=&amp;quot;ArithmeticException&amp;quot;;class q extends Z{constructor(t,e,r){super(),this.primitive=t,this.size=e,this.generatorBase=r;const n=new Int32Array(e);let i=1;for(let r=0;r&amp;lt;e;r++)n[r]=i,i*=2,i&amp;gt;=e&amp;amp;&amp;amp;(i^=t,i&amp;amp;=e-1);this.expTable=n;const o=new Int32Array(e);for(let t=0;t&amp;lt;e-1;t++)o[n[t]]=t;this.logTable=o,this.zero=new Q(this,Int32Array.from([0])),this.one=new Q(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t&amp;lt;0)throw new c;if(0===e)return this.zero;const r=new Int32Array(t+1);return r[0]=e,new Q(this,r)}inverse(t){if(0===t)throw new K;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return&amp;quot;GF(0x&amp;quot;+m.toHexString(this.primitive)+&amp;quot;,&amp;quot;+this.size+&amp;quot;)&amp;quot;}equals(t){return t===this}}q.AZTEC_DATA_12=new q(4201,4096,1),q.AZTEC_DATA_10=new q(1033,1024,1),q.AZTEC_DATA_6=new q(67,64,1),q.AZTEC_PARAM=new q(19,16,1),q.QR_CODE_FIELD_256=new q(285,256,0),q.DATA_MATRIX_FIELD_256=new q(301,256,1),q.AZTEC_DATA_8=q.DATA_MATRIX_FIELD_256,q.MAXICODE_FIELD_64=q.AZTEC_DATA_6;class J extends s{}J.kind=&amp;quot;ReedSolomonException&amp;quot;;class $ extends s{}$.kind=&amp;quot;IllegalStateException&amp;quot;;class tt{constructor(t){this.field=t}decode(t,e){const r=this.field,n=new Q(r,t),i=new Int32Array(e);let o=!0;for(let t=0;t&amp;lt;e;t++){const e=n.evaluateAt(r.exp(t+r.getGeneratorBase()));i[i.length-1-t]=e,0!==e&amp;amp;&amp;amp;(o=!1)}if(o)return;const s=new Q(r,i),a=this.runEuclideanAlgorithm(r.buildMonomial(e,1),s,e),c=a[0],l=a[1],h=this.findErrorLocations(c),u=this.findErrorMagnitudes(l,h);for(let e=0;e&amp;lt;h.length;e++){const n=t.length-1-r.log(h[e]);if(n&amp;lt;0)throw new J(&amp;quot;Bad error location&amp;quot;);t[n]=q.addOrSubtract(t[n],u[e])}}runEuclideanAlgorithm(t,e,r){if(t.getDegree()&amp;lt;e.getDegree()){const r=t;t=e,e=r}const n=this.field;let i=t,o=e,s=n.getZero(),a=n.getOne();for(;o.getDegree()&amp;gt;=(r/2|0);){let t=i,e=s;if(i=o,s=a,i.isZero())throw new J(&amp;quot;r_{i-1} was zero&amp;quot;);o=t;let r=n.getZero();const c=i.getCoefficient(i.getDegree()),l=n.inverse(c);for(;o.getDegree()&amp;gt;=i.getDegree()&amp;amp;&amp;amp;!o.isZero();){const t=o.getDegree()-i.getDegree(),e=n.multiply(o.getCoefficient(o.getDegree()),l);r=r.addOrSubtract(n.buildMonomial(t,e)),o=o.addOrSubtract(i.multiplyByMonomial(t,e))}if(a=r.multiply(s).addOrSubtract(e),o.getDegree()&amp;gt;=i.getDegree())throw new $(&amp;quot;Division algorithm failed to reduce polynomial?&amp;quot;)}const c=a.getCoefficient(0);if(0===c)throw new J(&amp;quot;sigmaTilde(0) was zero&amp;quot;);const l=n.inverse(c);return[a.multiplyScalar(l),o.multiplyScalar(l)]}findErrorLocations(t){const e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(e);let n=0;const i=this.field;for(let o=1;o&amp;lt;i.getSize()&amp;amp;&amp;amp;n&amp;lt;e;o++)0===t.evaluateAt(o)&amp;amp;&amp;amp;(r[n]=i.inverse(o),n++);if(n!==e)throw new J(&amp;quot;Error locator degree does not match number of roots&amp;quot;);return r}findErrorMagnitudes(t,e){const r=e.length,n=new Int32Array(r),i=this.field;for(let o=0;o&amp;lt;r;o++){const s=i.inverse(e[o]);let a=1;for(let t=0;t&amp;lt;r;t++)if(o!==t){const r=i.multiply(e[t],s),n=0==(1&amp;amp;r)?1|r:-2&amp;amp;r;a=i.multiply(a,n)}n[o]=i.multiply(t.evaluateAt(s),i.inverse(a)),0!==i.getGeneratorBase()&amp;amp;&amp;amp;(n[o]=i.multiply(n[o],s))}return n}}!function(t){t[t.UPPER=0]=&amp;quot;UPPER&amp;quot;,t[t.LOWER=1]=&amp;quot;LOWER&amp;quot;,t[t.MIXED=2]=&amp;quot;MIXED&amp;quot;,t[t.DIGIT=3]=&amp;quot;DIGIT&amp;quot;,t[t.PUNCT=4]=&amp;quot;PUNCT&amp;quot;,t[t.BINARY=5]=&amp;quot;BINARY&amp;quot;}(H||(H={}));class et{decode(t){this.ddata=t;let e=t.getBits(),r=this.extractBits(e),n=this.correctBits(r),i=et.convertBoolArrayToByteArray(n),o=et.getEncodedData(n),s=new j(i,o,null,null);return s.setNumBits(n.length),s}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let e=t.length,r=H.UPPER,n=H.UPPER,i=&amp;quot;&amp;quot;,o=0;for(;o&amp;lt;e;)if(n===H.BINARY){if(e-o&amp;lt;5)break;let s=et.readCode(t,o,5);if(o+=5,0===s){if(e-o&amp;lt;11)break;s=et.readCode(t,o,11)+31,o+=11}for(let r=0;r&amp;lt;s;r++){if(e-o&amp;lt;8){o=e;break}const r=et.readCode(t,o,8);i+=T.castAsNonUtf8Char(r),o+=8}n=r}else{let s=n===H.DIGIT?4:5;if(e-o&amp;lt;s)break;let a=et.readCode(t,o,s);o+=s;let c=et.getCharacter(n,a);c.startsWith(&amp;quot;CTRL_&amp;quot;)?(r=n,n=et.getTable(c.charAt(5)),&amp;quot;L&amp;quot;===c.charAt(6)&amp;amp;&amp;amp;(r=n)):(i+=c,n=r)}return i}static getTable(t){switch(t){case&amp;quot;L&amp;quot;:return H.LOWER;case&amp;quot;P&amp;quot;:return H.PUNCT;case&amp;quot;M&amp;quot;:return H.MIXED;case&amp;quot;D&amp;quot;:return H.DIGIT;case&amp;quot;B&amp;quot;:return H.BINARY;default:return H.UPPER}}static getCharacter(t,e){switch(t){case H.UPPER:return et.UPPER_TABLE[e];case H.LOWER:return et.LOWER_TABLE[e];case H.MIXED:return et.MIXED_TABLE[e];case H.PUNCT:return et.PUNCT_TABLE[e];case H.DIGIT:return et.DIGIT_TABLE[e];default:throw new $(&amp;quot;Bad table&amp;quot;)}}correctBits(t){let e,r;this.ddata.getNbLayers()&amp;lt;=2?(r=6,e=q.AZTEC_DATA_6):this.ddata.getNbLayers()&amp;lt;=8?(r=8,e=q.AZTEC_DATA_8):this.ddata.getNbLayers()&amp;lt;=22?(r=10,e=q.AZTEC_DATA_10):(r=12,e=q.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=t.length/r;if(i&amp;lt;n)throw new E;let o=t.length%r,s=new Int32Array(i);for(let e=0;e&amp;lt;i;e++,o+=r)s[e]=et.readCode(t,o,r);try{new tt(e).decode(s,i-n)}catch(t){throw new E(t)}let a=(1&amp;lt;&amp;lt;r)-1,c=0;for(let t=0;t&amp;lt;n;t++){let e=s[t];if(0===e||e===a)throw new E;1!==e&amp;amp;&amp;amp;e!==a-1||c++}let l=new Array(n*r-c),h=0;for(let t=0;t&amp;lt;n;t++){let e=s[t];if(1===e||e===a-1)l.fill(e&amp;gt;1,h,h+r-1),h+=r-1;else for(let t=r-1;t&amp;gt;=0;--t)l[h++]=0!=(e&amp;amp;1&amp;lt;&amp;lt;t)}return l}extractBits(t){let e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(e?11:14)+4*r,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,e));if(e)for(let t=0;t&amp;lt;i.length;t++)i[t]=t;else{let t=n+1+2*m.truncDivision(m.truncDivision(n,2)-1,15),e=n/2,r=m.truncDivision(t,2);for(let t=0;t&amp;lt;e;t++){let n=t+m.truncDivision(t,15);i[e-t-1]=r-n-1,i[e+t]=r+n+1}}for(let s=0,a=0;s&amp;lt;r;s++){let c=4*(r-s)+(e?9:12),l=2*s,h=n-1-l;for(let e=0;e&amp;lt;c;e++){let r=2*e;for(let n=0;n&amp;lt;2;n++)o[a+r+n]=t.get(i[l+n],i[l+e]),o[a+2*c+r+n]=t.get(i[l+e],i[h-n]),o[a+4*c+r+n]=t.get(i[h-n],i[h-e]),o[a+6*c+r+n]=t.get(i[h-e],i[l+n])}a+=8*c}return o}static readCode(t,e,r){let n=0;for(let i=e;i&amp;lt;e+r;i++)n&amp;lt;&amp;lt;=1,t[i]&amp;amp;&amp;amp;(n|=1);return n}static readByte(t,e){let r=t.length-e;return r&amp;gt;=8?et.readCode(t,e,8):et.readCode(t,e,r)&amp;lt;&amp;lt;8-r}static convertBoolArrayToByteArray(t){let e=new Uint8Array((t.length+7)/8);for(let r=0;r&amp;lt;e.length;r++)e[r]=et.readByte(t,8*r);return e}totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}et.UPPER_TABLE=[&amp;quot;CTRL_PS&amp;quot;,&amp;quot; &amp;quot;,&amp;quot;A&amp;quot;,&amp;quot;B&amp;quot;,&amp;quot;C&amp;quot;,&amp;quot;D&amp;quot;,&amp;quot;E&amp;quot;,&amp;quot;F&amp;quot;,&amp;quot;G&amp;quot;,&amp;quot;H&amp;quot;,&amp;quot;I&amp;quot;,&amp;quot;J&amp;quot;,&amp;quot;K&amp;quot;,&amp;quot;L&amp;quot;,&amp;quot;M&amp;quot;,&amp;quot;N&amp;quot;,&amp;quot;O&amp;quot;,&amp;quot;P&amp;quot;,&amp;quot;Q&amp;quot;,&amp;quot;R&amp;quot;,&amp;quot;S&amp;quot;,&amp;quot;T&amp;quot;,&amp;quot;U&amp;quot;,&amp;quot;V&amp;quot;,&amp;quot;W&amp;quot;,&amp;quot;X&amp;quot;,&amp;quot;Y&quot;,&quot;numLines&quot;:1}}"><div class="flex relative bg-white font-mono text-sm leading-6"><div class="py-4 border-b border-x border-slate-300 bg-slate-100 text-right select-none"><div><div class="relative"><a id="L1" href="#L1" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">1</a></div></div></div><div class="py-4 pl-4 pr-6 relative border-b border-r border-slate-300 flex-grow whitespace-pre overflow-x-auto" style="tab-size:2;">var __Html5QrcodeLibrary__;(()=&gt;{var t={449:function(t,e,r){!function(t){&quot;use strict&quot;;function e(t){return null==t}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&amp;&amp;function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&amp;&amp;(t[r]=e[r])};var i,o=function(t){function e(e){var r,n,i,o=this.constructor,s=t.call(this,e)||this;return Object.defineProperty(s,&quot;name&quot;,{value:o.name,enumerable:!1}),r=s,n=o.prototype,(i=Object.setPrototypeOf)?i(r,n):r.__proto__=n,function(t,e){void 0===e&amp;&amp;(e=t.constructor);var r=Error.captureStackTrace;r&amp;&amp;r(t,e)}(s),s}return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Error);class s extends o{constructor(t=undefined){super(t),this.message=t}getKind(){return this.constructor.kind}}s.kind=&quot;Exception&quot;;class a extends s{}a.kind=&quot;ArgumentException&quot;;class c extends s{}c.kind=&quot;IllegalArgumentException&quot;;class l{constructor(t){if(this.binarizer=t,null===t)throw new c(&quot;Binarizer must be non-null.&quot;)}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,e){return this.binarizer.getBlackRow(t,e)}getBlackMatrix(){return null!==this.matrix&amp;&amp;void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,e,r,n){const i=this.binarizer.getLuminanceSource().crop(t,e,r,n);return new l(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new l(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new l(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch(t){return&quot;&quot;}}}class h extends s{static getChecksumInstance(){return new h}}h.kind=&quot;ChecksumException&quot;;class u{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class d{static arraycopy(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}static currentTimeMillis(){return Date.now()}}class f extends s{}f.kind=&quot;IndexOutOfBoundsException&quot;;class g extends f{constructor(t=undefined,e=undefined){super(e),this.index=t,this.message=e}}g.kind=&quot;ArrayIndexOutOfBoundsException&quot;;class w{static fill(t,e){for(let r=0,n=t.length;r&lt;n;r++)t[r]=e}static fillWithin(t,e,r,n){w.rangeCheck(t.length,e,r);for(let i=e;i&lt;r;i++)t[i]=n}static rangeCheck(t,e,r){if(e&gt;r)throw new c(&quot;fromIndex(&quot;+e+&quot;) &gt; toIndex(&quot;+r+&quot;)&quot;);if(e&lt;0)throw new g(e);if(r&gt;t)throw new g(r)}static asList(...t){return t}static create(t,e,r){return Array.from({length:t}).map((t=&gt;Array.from({length:e}).fill(r)))}static createInt32Array(t,e,r){return Array.from({length:t}).map((t=&gt;Int32Array.from({length:e}).fill(r)))}static equals(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r&lt;n;r++)if(t[r]!==e[r])return!1;return!0}static hashCode(t){if(null===t)return 0;let e=1;for(const r of t)e=31*e+r;return e}static fillUint8Array(t,e){for(let r=0;r!==t.length;r++)t[r]=e}static copyOf(t,e){return t.slice(0,e)}static copyOfUint8Array(t,e){if(t.length&lt;=e){const r=new Uint8Array(e);return r.set(t),r}return t.slice(0,e)}static copyOfRange(t,e,r){const n=r-e,i=new Int32Array(n);return d.arraycopy(t,e,i,0,n),i}static binarySearch(t,e,r){void 0===r&amp;&amp;(r=w.numberComparator);let n=0,i=t.length-1;for(;n&lt;=i;){const o=i+n&gt;&gt;1,s=r(e,t[o]);if(s&gt;0)n=o+1;else{if(!(s&lt;0))return o;i=o-1}}return-n-1}static numberComparator(t,e){return t-e}}class m{static numberOfTrailingZeros(t){let e;if(0===t)return 32;let r=31;return e=t&lt;&lt;16,0!==e&amp;&amp;(r-=16,t=e),e=t&lt;&lt;8,0!==e&amp;&amp;(r-=8,t=e),e=t&lt;&lt;4,0!==e&amp;&amp;(r-=4,t=e),e=t&lt;&lt;2,0!==e&amp;&amp;(r-=2,t=e),r-(t&lt;&lt;1&gt;&gt;&gt;31)}static numberOfLeadingZeros(t){if(0===t)return 32;let e=1;return t&gt;&gt;&gt;16==0&amp;&amp;(e+=16,t&lt;&lt;=16),t&gt;&gt;&gt;24==0&amp;&amp;(e+=8,t&lt;&lt;=8),t&gt;&gt;&gt;28==0&amp;&amp;(e+=4,t&lt;&lt;=4),t&gt;&gt;&gt;30==0&amp;&amp;(e+=2,t&lt;&lt;=2),e-=t&gt;&gt;&gt;31,e}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=(t=(858993459&amp;(t-=t&gt;&gt;&gt;1&amp;1431655765))+(t&gt;&gt;&gt;2&amp;858993459))+(t&gt;&gt;&gt;4)&amp;252645135,63&amp;(t+=t&gt;&gt;&gt;8)+(t&gt;&gt;&gt;16)}static truncDivision(t,e){return Math.trunc(t/e)}static parseInt(t,e=undefined){return parseInt(t,e)}}m.MIN_VALUE_32_BITS=-2147483648,m.MAX_VALUE=Number.MAX_SAFE_INTEGER;class p{constructor(t,e){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==e?p.makeArray(t):e)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t&gt;32*this.bits.length){const e=p.makeArray(t);d.arraycopy(this.bits,0,e,0,this.bits.length),this.bits=e}}get(t){return 0!=(this.bits[Math.floor(t/32)]&amp;1&lt;&lt;(31&amp;t))}set(t){this.bits[Math.floor(t/32)]|=1&lt;&lt;(31&amp;t)}flip(t){this.bits[Math.floor(t/32)]^=1&lt;&lt;(31&amp;t)}getNextSet(t){const e=this.size;if(t&gt;=e)return e;const r=this.bits;let n=Math.floor(t/32),i=r[n];i&amp;=~((1&lt;&lt;(31&amp;t))-1);const o=r.length;for(;0===i;){if(++n===o)return e;i=r[n]}const s=32*n+m.numberOfTrailingZeros(i);return s&gt;e?e:s}getNextUnset(t){const e=this.size;if(t&gt;=e)return e;const r=this.bits;let n=Math.floor(t/32),i=~r[n];i&amp;=~((1&lt;&lt;(31&amp;t))-1);const o=r.length;for(;0===i;){if(++n===o)return e;i=~r[n]}const s=32*n+m.numberOfTrailingZeros(i);return s&gt;e?e:s}setBulk(t,e){this.bits[Math.floor(t/32)]=e}setRange(t,e){if(e&lt;t||t&lt;0||e&gt;this.size)throw new c;if(e===t)return;e--;const r=Math.floor(t/32),n=Math.floor(e/32),i=this.bits;for(let o=r;o&lt;=n;o++){const s=(2&lt;&lt;(o&lt;n?31:31&amp;e))-(1&lt;&lt;(o&gt;r?0:31&amp;t));i[o]|=s}}clear(){const t=this.bits.length,e=this.bits;for(let r=0;r&lt;t;r++)e[r]=0}isRange(t,e,r){if(e&lt;t||t&lt;0||e&gt;this.size)throw new c;if(e===t)return!0;e--;const n=Math.floor(t/32),i=Math.floor(e/32),o=this.bits;for(let s=n;s&lt;=i;s++){const a=(2&lt;&lt;(s&lt;i?31:31&amp;e))-(1&lt;&lt;(s&gt;n?0:31&amp;t))&amp;4294967295;if((o[s]&amp;a)!==(r?a:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&amp;&amp;(this.bits[Math.floor(this.size/32)]|=1&lt;&lt;(31&amp;this.size)),this.size++}appendBits(t,e){if(e&lt;0||e&gt;32)throw new c(&quot;Num bits must be between 0 and 32&quot;);this.ensureCapacity(this.size+e);for(let r=e;r&gt;0;r--)this.appendBit(1==(t&gt;&gt;r-1&amp;1))}appendBitArray(t){const e=t.size;this.ensureCapacity(this.size+e);for(let r=0;r&lt;e;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new c(&quot;Sizes don&apos;t match&quot;);const e=this.bits;for(let r=0,n=e.length;r&lt;n;r++)e[r]^=t.bits[r]}toBytes(t,e,r,n){for(let i=0;i&lt;n;i++){let n=0;for(let e=0;e&lt;8;e++)this.get(t)&amp;&amp;(n|=1&lt;&lt;7-e),t++;e[r+i]=n}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),r=e+1,n=this.bits;for(let i=0;i&lt;r;i++){let r=n[i];r=r&gt;&gt;1&amp;1431655765|(1431655765&amp;r)&lt;&lt;1,r=r&gt;&gt;2&amp;858993459|(858993459&amp;r)&lt;&lt;2,r=r&gt;&gt;4&amp;252645135|(252645135&amp;r)&lt;&lt;4,r=r&gt;&gt;8&amp;16711935|(16711935&amp;r)&lt;&lt;8,r=r&gt;&gt;16&amp;65535|(65535&amp;r)&lt;&lt;16,t[e-i]=r}if(this.size!==32*r){const e=32*r-this.size;let n=t[0]&gt;&gt;&gt;e;for(let i=1;i&lt;r;i++){const r=t[i];n|=r&lt;&lt;32-e,t[i-1]=n,n=r&gt;&gt;&gt;e}t[r-1]=n}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof p))return!1;const e=t;return this.size===e.size&amp;&amp;w.equals(this.bits,e.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let t=&quot;&quot;;for(let e=0,r=this.size;e&lt;r;e++)0==(7&amp;e)&amp;&amp;(t+=&quot; &quot;),t+=this.get(e)?&quot;X&quot;:&quot;.&quot;;return t}clone(){return new p(this.size,this.bits.slice())}}!function(t){t[t.OTHER=0]=&quot;OTHER&quot;,t[t.PURE_BARCODE=1]=&quot;PURE_BARCODE&quot;,t[t.POSSIBLE_FORMATS=2]=&quot;POSSIBLE_FORMATS&quot;,t[t.TRY_HARDER=3]=&quot;TRY_HARDER&quot;,t[t.CHARACTER_SET=4]=&quot;CHARACTER_SET&quot;,t[t.ALLOWED_LENGTHS=5]=&quot;ALLOWED_LENGTHS&quot;,t[t.ASSUME_CODE_39_CHECK_DIGIT=6]=&quot;ASSUME_CODE_39_CHECK_DIGIT&quot;,t[t.ASSUME_GS1=7]=&quot;ASSUME_GS1&quot;,t[t.RETURN_CODABAR_START_END=8]=&quot;RETURN_CODABAR_START_END&quot;,t[t.NEED_RESULT_POINT_CALLBACK=9]=&quot;NEED_RESULT_POINT_CALLBACK&quot;,t[t.ALLOWED_EAN_EXTENSIONS=10]=&quot;ALLOWED_EAN_EXTENSIONS&quot;}(i||(i={}));var A,C=i;class E extends s{static getFormatInstance(){return new E}}E.kind=&quot;FormatException&quot;,function(t){t[t.Cp437=0]=&quot;Cp437&quot;,t[t.ISO8859_1=1]=&quot;ISO8859_1&quot;,t[t.ISO8859_2=2]=&quot;ISO8859_2&quot;,t[t.ISO8859_3=3]=&quot;ISO8859_3&quot;,t[t.ISO8859_4=4]=&quot;ISO8859_4&quot;,t[t.ISO8859_5=5]=&quot;ISO8859_5&quot;,t[t.ISO8859_6=6]=&quot;ISO8859_6&quot;,t[t.ISO8859_7=7]=&quot;ISO8859_7&quot;,t[t.ISO8859_8=8]=&quot;ISO8859_8&quot;,t[t.ISO8859_9=9]=&quot;ISO8859_9&quot;,t[t.ISO8859_10=10]=&quot;ISO8859_10&quot;,t[t.ISO8859_11=11]=&quot;ISO8859_11&quot;,t[t.ISO8859_13=12]=&quot;ISO8859_13&quot;,t[t.ISO8859_14=13]=&quot;ISO8859_14&quot;,t[t.ISO8859_15=14]=&quot;ISO8859_15&quot;,t[t.ISO8859_16=15]=&quot;ISO8859_16&quot;,t[t.SJIS=16]=&quot;SJIS&quot;,t[t.Cp1250=17]=&quot;Cp1250&quot;,t[t.Cp1251=18]=&quot;Cp1251&quot;,t[t.Cp1252=19]=&quot;Cp1252&quot;,t[t.Cp1256=20]=&quot;Cp1256&quot;,t[t.UnicodeBigUnmarked=21]=&quot;UnicodeBigUnmarked&quot;,t[t.UTF8=22]=&quot;UTF8&quot;,t[t.ASCII=23]=&quot;ASCII&quot;,t[t.Big5=24]=&quot;Big5&quot;,t[t.GB18030=25]=&quot;GB18030&quot;,t[t.EUC_KR=26]=&quot;EUC_KR&quot;}(A||(A={}));class I{constructor(t,e,r,...n){this.valueIdentifier=t,this.name=r,this.values=&quot;number&quot;==typeof e?Int32Array.from([e]):e,this.otherEncodingNames=n,I.VALUE_IDENTIFIER_TO_ECI.set(t,this),I.NAME_TO_ECI.set(r,this);const i=this.values;for(let t=0,e=i.length;t!==e;t++){const e=i[t];I.VALUES_TO_ECI.set(e,this)}for(const t of n)I.NAME_TO_ECI.set(t,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t&lt;0||t&gt;=900)throw new E(&quot;incorect value&quot;);const e=I.VALUES_TO_ECI.get(t);if(void 0===e)throw new E(&quot;incorect value&quot;);return e}static getCharacterSetECIByName(t){const e=I.NAME_TO_ECI.get(t);if(void 0===e)throw new E(&quot;incorect value&quot;);return e}equals(t){if(!(t instanceof I))return!1;const e=t;return this.getName()===e.getName()}}I.VALUE_IDENTIFIER_TO_ECI=new Map,I.VALUES_TO_ECI=new Map,I.NAME_TO_ECI=new Map,I.Cp437=new I(A.Cp437,Int32Array.from([0,2]),&quot;Cp437&quot;),I.ISO8859_1=new I(A.ISO8859_1,Int32Array.from([1,3]),&quot;ISO-8859-1&quot;,&quot;ISO88591&quot;,&quot;ISO8859_1&quot;),I.ISO8859_2=new I(A.ISO8859_2,4,&quot;ISO-8859-2&quot;,&quot;ISO88592&quot;,&quot;ISO8859_2&quot;),I.ISO8859_3=new I(A.ISO8859_3,5,&quot;ISO-8859-3&quot;,&quot;ISO88593&quot;,&quot;ISO8859_3&quot;),I.ISO8859_4=new I(A.ISO8859_4,6,&quot;ISO-8859-4&quot;,&quot;ISO88594&quot;,&quot;ISO8859_4&quot;),I.ISO8859_5=new I(A.ISO8859_5,7,&quot;ISO-8859-5&quot;,&quot;ISO88595&quot;,&quot;ISO8859_5&quot;),I.ISO8859_6=new I(A.ISO8859_6,8,&quot;ISO-8859-6&quot;,&quot;ISO88596&quot;,&quot;ISO8859_6&quot;),I.ISO8859_7=new I(A.ISO8859_7,9,&quot;ISO-8859-7&quot;,&quot;ISO88597&quot;,&quot;ISO8859_7&quot;),I.ISO8859_8=new I(A.ISO8859_8,10,&quot;ISO-8859-8&quot;,&quot;ISO88598&quot;,&quot;ISO8859_8&quot;),I.ISO8859_9=new I(A.ISO8859_9,11,&quot;ISO-8859-9&quot;,&quot;ISO88599&quot;,&quot;ISO8859_9&quot;),I.ISO8859_10=new I(A.ISO8859_10,12,&quot;ISO-8859-10&quot;,&quot;ISO885910&quot;,&quot;ISO8859_10&quot;),I.ISO8859_11=new I(A.ISO8859_11,13,&quot;ISO-8859-11&quot;,&quot;ISO885911&quot;,&quot;ISO8859_11&quot;),I.ISO8859_13=new I(A.ISO8859_13,15,&quot;ISO-8859-13&quot;,&quot;ISO885913&quot;,&quot;ISO8859_13&quot;),I.ISO8859_14=new I(A.ISO8859_14,16,&quot;ISO-8859-14&quot;,&quot;ISO885914&quot;,&quot;ISO8859_14&quot;),I.ISO8859_15=new I(A.ISO8859_15,17,&quot;ISO-8859-15&quot;,&quot;ISO885915&quot;,&quot;ISO8859_15&quot;),I.ISO8859_16=new I(A.ISO8859_16,18,&quot;ISO-8859-16&quot;,&quot;ISO885916&quot;,&quot;ISO8859_16&quot;),I.SJIS=new I(A.SJIS,20,&quot;SJIS&quot;,&quot;Shift_JIS&quot;),I.Cp1250=new I(A.Cp1250,21,&quot;Cp1250&quot;,&quot;windows-1250&quot;),I.Cp1251=new I(A.Cp1251,22,&quot;Cp1251&quot;,&quot;windows-1251&quot;),I.Cp1252=new I(A.Cp1252,23,&quot;Cp1252&quot;,&quot;windows-1252&quot;),I.Cp1256=new I(A.Cp1256,24,&quot;Cp1256&quot;,&quot;windows-1256&quot;),I.UnicodeBigUnmarked=new I(A.UnicodeBigUnmarked,25,&quot;UnicodeBigUnmarked&quot;,&quot;UTF-16BE&quot;,&quot;UnicodeBig&quot;),I.UTF8=new I(A.UTF8,26,&quot;UTF8&quot;,&quot;UTF-8&quot;),I.ASCII=new I(A.ASCII,Int32Array.from([27,170]),&quot;ASCII&quot;,&quot;US-ASCII&quot;),I.Big5=new I(A.Big5,28,&quot;Big5&quot;),I.GB18030=new I(A.GB18030,29,&quot;GB18030&quot;,&quot;GB2312&quot;,&quot;EUC_CN&quot;,&quot;GBK&quot;),I.EUC_KR=new I(A.EUC_KR,30,&quot;EUC_KR&quot;,&quot;EUC-KR&quot;);class S extends s{}S.kind=&quot;UnsupportedOperationException&quot;;class _{static decode(t,e){const r=this.encodingName(e);return this.customDecoder?this.customDecoder(t,r):&quot;undefined&quot;==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!_.isBrowser()&amp;&amp;&quot;ISO-8859-1&quot;===t}static encode(t,e){const r=this.encodingName(e);return this.customEncoder?this.customEncoder(t,r):&quot;undefined&quot;==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)}static isBrowser(){return&quot;undefined&quot;!=typeof window&amp;&amp;&quot;[object Window]&quot;==={}.toString.call(window)}static encodingName(t){return&quot;string&quot;==typeof t?t:t.getName()}static encodingCharacterSet(t){return t instanceof I?t:I.getCharacterSetECIByName(t)}static decodeFallback(t,e){const r=this.encodingCharacterSet(e);if(_.isDecodeFallbackSupported(r)){let e=&quot;&quot;;for(let r=0,n=t.length;r&lt;n;r++){let n=t[r].toString(16);n.length&lt;2&amp;&amp;(n=&quot;0&quot;+n),e+=&quot;%&quot;+n}return decodeURIComponent(e)}if(r.equals(I.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new S(`Encoding ${this.encodingName(e)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(I.UTF8)||t.equals(I.ISO8859_1)||t.equals(I.ASCII)}static encodeFallback(t){const e=btoa(unescape(encodeURIComponent(t))).split(&quot;&quot;),r=[];for(let t=0;t&lt;e.length;t++)r.push(e[t].charCodeAt(0));return new Uint8Array(r)}}class T{static castAsNonUtf8Char(t,e=null){const r=e?e.getName():this.ISO88591;return _.decode(new Uint8Array([t]),r)}static guessEncoding(t,e){if(null!=e&amp;&amp;void 0!==e.get(C.CHARACTER_SET))return e.get(C.CHARACTER_SET).toString();const r=t.length;let n=!0,i=!0,o=!0,s=0,a=0,c=0,l=0,h=0,u=0,d=0,f=0,g=0,w=0,m=0;const p=t.length&gt;3&amp;&amp;239===t[0]&amp;&amp;187===t[1]&amp;&amp;191===t[2];for(let e=0;e&lt;r&amp;&amp;(n||i||o);e++){const r=255&amp;t[e];o&amp;&amp;(s&gt;0?0==(128&amp;r)?o=!1:s--:0!=(128&amp;r)&amp;&amp;(0==(64&amp;r)?o=!1:(s++,0==(32&amp;r)?a++:(s++,0==(16&amp;r)?c++:(s++,0==(8&amp;r)?l++:o=!1))))),n&amp;&amp;(r&gt;127&amp;&amp;r&lt;160?n=!1:r&gt;159&amp;&amp;(r&lt;192||215===r||247===r)&amp;&amp;m++),i&amp;&amp;(h&gt;0?r&lt;64||127===r||r&gt;252?i=!1:h--:128===r||160===r||r&gt;239?i=!1:r&gt;160&amp;&amp;r&lt;224?(u++,f=0,d++,d&gt;g&amp;&amp;(g=d)):r&gt;127?(h++,d=0,f++,f&gt;w&amp;&amp;(w=f)):(d=0,f=0))}return o&amp;&amp;s&gt;0&amp;&amp;(o=!1),i&amp;&amp;h&gt;0&amp;&amp;(i=!1),o&amp;&amp;(p||a+c+l&gt;0)?T.UTF8:i&amp;&amp;(T.ASSUME_SHIFT_JIS||g&gt;=3||w&gt;=3)?T.SHIFT_JIS:n&amp;&amp;i?2===g&amp;&amp;2===u||10*m&gt;=r?T.SHIFT_JIS:T.ISO88591:n?T.ISO88591:i?T.SHIFT_JIS:o?T.UTF8:T.PLATFORM_DEFAULT_ENCODING}static format(t,...e){let r=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,(function(t,n,i,o,s,a){if(&quot;%%&quot;===t)return&quot;%&quot;;if(void 0===e[++r])return;t=o?parseInt(o.substr(1)):void 0;let c,l=s?parseInt(s.substr(1)):void 0;switch(a){case&quot;s&quot;:c=e[r];break;case&quot;c&quot;:c=e[r][0];break;case&quot;f&quot;:c=parseFloat(e[r]).toFixed(t);break;case&quot;p&quot;:c=parseFloat(e[r]).toPrecision(t);break;case&quot;e&quot;:c=parseFloat(e[r]).toExponential(t);break;case&quot;x&quot;:c=parseInt(e[r]).toString(l||16);break;case&quot;d&quot;:c=parseFloat(parseInt(e[r],l||10).toPrecision(t)).toFixed(0)}c=&quot;object&quot;==typeof c?JSON.stringify(c):(+c).toString(l);let h=parseInt(i),u=i&amp;&amp;i[0]+&quot;&quot;==&quot;0&quot;?&quot;0&quot;:&quot; &quot;;for(;c.length&lt;h;)c=void 0!==n?c+u:u+c;return c}))}static getBytes(t,e){return _.encode(t,e)}static getCharCode(t,e=0){return t.charCodeAt(e)}static getCharAt(t){return String.fromCharCode(t)}}T.SHIFT_JIS=I.SJIS.getName(),T.GB2312=&quot;GB2312&quot;,T.ISO88591=I.ISO8859_1.getName(),T.EUC_JP=&quot;EUC_JP&quot;,T.UTF8=I.UTF8.getName(),T.PLATFORM_DEFAULT_ENCODING=T.UTF8,T.ASSUME_SHIFT_JIS=!1;class y{constructor(t=&quot;&quot;){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return&quot;string&quot;==typeof t?this.value+=t.toString():this.encoding?this.value+=T.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,e,r){for(let n=e;e&lt;e+r;n++)this.append(t[n]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)}substring(t,e){return this.value.substring(t,e)}setLengthToZero(){this.value=&quot;&quot;}toString(){return this.value}insert(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)}}class N{constructor(t,e,r,n){if(this.width=t,this.height=e,this.rowSize=r,this.bits=n,null==e&amp;&amp;(e=t),this.height=e,t&lt;1||e&lt;1)throw new c(&quot;Both dimensions must be greater than 0&quot;);null==r&amp;&amp;(r=Math.floor((t+31)/32)),this.rowSize=r,null==n&amp;&amp;(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const e=t.length,r=t[0].length,n=new N(r,e);for(let i=0;i&lt;e;i++){const e=t[i];for(let t=0;t&lt;r;t++)e[t]&amp;&amp;n.set(t,i)}return n}static parseFromString(t,e,r){if(null===t)throw new c(&quot;stringRepresentation cannot be null&quot;);const n=new Array(t.length);let i=0,o=0,s=-1,a=0,l=0;for(;l&lt;t.length;)if(&quot;\n&quot;===t.charAt(l)||&quot;\r&quot;===t.charAt(l)){if(i&gt;o){if(-1===s)s=i-o;else if(i-o!==s)throw new c(&quot;row lengths do not match&quot;);o=i,a++}l++}else if(t.substring(l,l+e.length)===e)l+=e.length,n[i]=!0,i++;else{if(t.substring(l,l+r.length)!==r)throw new c(&quot;illegal character encountered: &quot;+t.substring(l));l+=r.length,n[i]=!1,i++}if(i&gt;o){if(-1===s)s=i-o;else if(i-o!==s)throw new c(&quot;row lengths do not match&quot;);a++}const h=new N(s,a);for(let t=0;t&lt;i;t++)n[t]&amp;&amp;h.set(Math.floor(t%s),Math.floor(t/s));return h}get(t,e){const r=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[r]&gt;&gt;&gt;(31&amp;t)&amp;1)}set(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]|=1&lt;&lt;(31&amp;t)&amp;4294967295}unset(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]&amp;=~(1&lt;&lt;(31&amp;t)&amp;4294967295)}flip(t,e){const r=e*this.rowSize+Math.floor(t/32);this.bits[r]^=1&lt;&lt;(31&amp;t)&amp;4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new c(&quot;input matrix dimensions do not match&quot;);const e=new p(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i&lt;o;i++){const o=i*r,s=t.getRow(i,e).getBitArray();for(let t=0;t&lt;r;t++)n[o+t]^=s[t]}}clear(){const t=this.bits,e=t.length;for(let r=0;r&lt;e;r++)t[r]=0}setRegion(t,e,r,n){if(e&lt;0||t&lt;0)throw new c(&quot;Left and top must be nonnegative&quot;);if(n&lt;1||r&lt;1)throw new c(&quot;Height and width must be at least 1&quot;);const i=t+r,o=e+n;if(o&gt;this.height||i&gt;this.width)throw new c(&quot;The region must fit inside the matrix&quot;);const s=this.rowSize,a=this.bits;for(let r=e;r&lt;o;r++){const e=r*s;for(let r=t;r&lt;i;r++)a[e+Math.floor(r/32)]|=1&lt;&lt;(31&amp;r)&amp;4294967295}}getRow(t,e){null==e||e.getSize()&lt;this.width?e=new p(this.width):e.clear();const r=this.rowSize,n=this.bits,i=t*r;for(let t=0;t&lt;r;t++)e.setBulk(32*t,n[i+t]);return e}setRow(t,e){d.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),e=this.getHeight();let r=new p(t),n=new p(t);for(let t=0,i=Math.floor((e+1)/2);t&lt;i;t++)r=this.getRow(t,r),n=this.getRow(e-1-t,n),r.reverse(),n.reverse(),this.setRow(t,n),this.setRow(e-1-t,r)}getEnclosingRectangle(){const t=this.width,e=this.height,r=this.rowSize,n=this.bits;let i=t,o=e,s=-1,a=-1;for(let t=0;t&lt;e;t++)for(let e=0;e&lt;r;e++){const c=n[t*r+e];if(0!==c){if(t&lt;o&amp;&amp;(o=t),t&gt;a&amp;&amp;(a=t),32*e&lt;i){let t=0;for(;0==(c&lt;&lt;31-t&amp;4294967295);)t++;32*e+t&lt;i&amp;&amp;(i=32*e+t)}if(32*e+31&gt;s){let t=31;for(;c&gt;&gt;&gt;t==0;)t--;32*e+t&gt;s&amp;&amp;(s=32*e+t)}}}return s&lt;i||a&lt;o?null:Int32Array.from([i,o,s-i+1,a-o+1])}getTopLeftOnBit(){const t=this.rowSize,e=this.bits;let r=0;for(;r&lt;e.length&amp;&amp;0===e[r];)r++;if(r===e.length)return null;const n=r/t;let i=r%t*32;const o=e[r];let s=0;for(;0==(o&lt;&lt;31-s&amp;4294967295);)s++;return i+=s,Int32Array.from([i,n])}getBottomRightOnBit(){const t=this.rowSize,e=this.bits;let r=e.length-1;for(;r&gt;=0&amp;&amp;0===e[r];)r--;if(r&lt;0)return null;const n=Math.floor(r/t);let i=32*Math.floor(r%t);const o=e[r];let s=31;for(;o&gt;&gt;&gt;s==0;)s--;return i+=s,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof N))return!1;const e=t;return this.width===e.width&amp;&amp;this.height===e.height&amp;&amp;this.rowSize===e.rowSize&amp;&amp;w.equals(this.bits,e.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+w.hashCode(this.bits),t}toString(t=&quot;X &quot;,e=&quot;  &quot;,r=&quot;\n&quot;){return this.buildToString(t,e,r)}buildToString(t,e,r){let n=new y;for(let i=0,o=this.height;i&lt;o;i++){for(let r=0,o=this.width;r&lt;o;r++)n.append(this.get(r,i)?t:e);n.append(r)}return n.toString()}clone(){return new N(this.width,this.height,this.rowSize,this.bits.slice())}}class D extends s{static getNotFoundInstance(){return new D}}D.kind=&quot;NotFoundException&quot;;class M extends u{constructor(t){super(t),this.luminances=M.EMPTY,this.buckets=new Int32Array(M.LUMINANCE_BUCKETS)}getBlackRow(t,e){const r=this.getLuminanceSource(),n=r.getWidth();null==e||e.getSize()&lt;n?e=new p(n):e.clear(),this.initArrays(n);const i=r.getRow(t,this.luminances),o=this.buckets;for(let t=0;t&lt;n;t++)o[(255&amp;i[t])&gt;&gt;M.LUMINANCE_SHIFT]++;const s=M.estimateBlackPoint(o);if(n&lt;3)for(let t=0;t&lt;n;t++)(255&amp;i[t])&lt;s&amp;&amp;e.set(t);else{let t=255&amp;i[0],r=255&amp;i[1];for(let o=1;o&lt;n-1;o++){const n=255&amp;i[o+1];(4*r-t-n)/2&lt;s&amp;&amp;e.set(o),t=r,r=n}}return e}getBlackMatrix(){const t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight(),n=new N(e,r);this.initArrays(e);const i=this.buckets;for(let n=1;n&lt;5;n++){const o=Math.floor(r*n/5),s=t.getRow(o,this.luminances),a=Math.floor(4*e/5);for(let t=Math.floor(e/5);t&lt;a;t++)i[(255&amp;s[t])&gt;&gt;M.LUMINANCE_SHIFT]++}const o=M.estimateBlackPoint(i),s=t.getMatrix();for(let t=0;t&lt;r;t++){const r=t*e;for(let i=0;i&lt;e;i++)(255&amp;s[r+i])&lt;o&amp;&amp;n.set(i,t)}return n}createBinarizer(t){return new M(t)}initArrays(t){this.luminances.length&lt;t&amp;&amp;(this.luminances=new Uint8ClampedArray(t));const e=this.buckets;for(let t=0;t&lt;M.LUMINANCE_BUCKETS;t++)e[t]=0}static estimateBlackPoint(t){const e=t.length;let r=0,n=0,i=0;for(let o=0;o&lt;e;o++)t[o]&gt;i&amp;&amp;(n=o,i=t[o]),t[o]&gt;r&amp;&amp;(r=t[o]);let o=0,s=0;for(let r=0;r&lt;e;r++){const e=r-n,i=t[r]*e*e;i&gt;s&amp;&amp;(o=r,s=i)}if(n&gt;o){const t=n;n=o,o=t}if(o-n&lt;=e/16)throw new D;let a=o-1,c=-1;for(let e=o-1;e&gt;n;e--){const i=e-n,s=i*i*(o-e)*(r-t[e]);s&gt;c&amp;&amp;(a=e,c=s)}return a&lt;&lt;M.LUMINANCE_SHIFT}}M.LUMINANCE_BITS=5,M.LUMINANCE_SHIFT=8-M.LUMINANCE_BITS,M.LUMINANCE_BUCKETS=1&lt;&lt;M.LUMINANCE_BITS,M.EMPTY=Uint8ClampedArray.from([0]);class R extends M{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight();if(e&gt;=R.MINIMUM_DIMENSION&amp;&amp;r&gt;=R.MINIMUM_DIMENSION){const n=t.getMatrix();let i=e&gt;&gt;R.BLOCK_SIZE_POWER;0!=(e&amp;R.BLOCK_SIZE_MASK)&amp;&amp;i++;let o=r&gt;&gt;R.BLOCK_SIZE_POWER;0!=(r&amp;R.BLOCK_SIZE_MASK)&amp;&amp;o++;const s=R.calculateBlackPoints(n,i,o,e,r),a=new N(e,r);R.calculateThresholdForBlock(n,i,o,e,r,s,a),this.matrix=a}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new R(t)}static calculateThresholdForBlock(t,e,r,n,i,o,s){const a=i-R.BLOCK_SIZE,c=n-R.BLOCK_SIZE;for(let i=0;i&lt;r;i++){let l=i&lt;&lt;R.BLOCK_SIZE_POWER;l&gt;a&amp;&amp;(l=a);const h=R.cap(i,2,r-3);for(let r=0;r&lt;e;r++){let i=r&lt;&lt;R.BLOCK_SIZE_POWER;i&gt;c&amp;&amp;(i=c);const a=R.cap(r,2,e-3);let u=0;for(let t=-2;t&lt;=2;t++){const e=o[h+t];u+=e[a-2]+e[a-1]+e[a]+e[a+1]+e[a+2]}const d=u/25;R.thresholdBlock(t,i,l,d,n,s)}}}static cap(t,e,r){return t&lt;e?e:t&gt;r?r:t}static thresholdBlock(t,e,r,n,i,o){for(let s=0,a=r*i+e;s&lt;R.BLOCK_SIZE;s++,a+=i)for(let i=0;i&lt;R.BLOCK_SIZE;i++)(255&amp;t[a+i])&lt;=n&amp;&amp;o.set(e+i,r+s)}static calculateBlackPoints(t,e,r,n,i){const o=i-R.BLOCK_SIZE,s=n-R.BLOCK_SIZE,a=new Array(r);for(let i=0;i&lt;r;i++){a[i]=new Int32Array(e);let r=i&lt;&lt;R.BLOCK_SIZE_POWER;r&gt;o&amp;&amp;(r=o);for(let o=0;o&lt;e;o++){let e=o&lt;&lt;R.BLOCK_SIZE_POWER;e&gt;s&amp;&amp;(e=s);let c=0,l=255,h=0;for(let i=0,o=r*n+e;i&lt;R.BLOCK_SIZE;i++,o+=n){for(let e=0;e&lt;R.BLOCK_SIZE;e++){const r=255&amp;t[o+e];c+=r,r&lt;l&amp;&amp;(l=r),r&gt;h&amp;&amp;(h=r)}if(h-l&gt;R.MIN_DYNAMIC_RANGE)for(i++,o+=n;i&lt;R.BLOCK_SIZE;i++,o+=n)for(let e=0;e&lt;R.BLOCK_SIZE;e++)c+=255&amp;t[o+e]}let u=c&gt;&gt;2*R.BLOCK_SIZE_POWER;if(h-l&lt;=R.MIN_DYNAMIC_RANGE&amp;&amp;(u=l/2,i&gt;0&amp;&amp;o&gt;0)){const t=(a[i-1][o]+2*a[i][o-1]+a[i-1][o-1])/4;l&lt;t&amp;&amp;(u=t)}a[i][o]=u}}return a}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1&lt;&lt;R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class O{constructor(t,e){this.width=t,this.height=e}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,e,r,n){throw new S(&quot;This luminance source does not support cropping.&quot;)}isRotateSupported(){return!1}rotateCounterClockwise(){throw new S(&quot;This luminance source does not support rotation by 90 degrees.&quot;)}rotateCounterClockwise45(){throw new S(&quot;This luminance source does not support rotation by 45 degrees.&quot;)}toString(){const t=new Uint8ClampedArray(this.width);let e=new y;for(let r=0;r&lt;this.height;r++){const n=this.getRow(r,t);for(let t=0;t&lt;this.width;t++){const r=255&amp;n[t];let i;i=r&lt;64?&quot;#&quot;:r&lt;128?&quot;+&quot;:r&lt;192?&quot;.&quot;:&quot; &quot;,e.append(i)}e.append(&quot;\n&quot;)}return e.toString()}}class b extends O{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,e){const r=this.delegate.getRow(t,e),n=this.getWidth();for(let t=0;t&lt;n;t++)r[t]=255-(255&amp;r[t]);return r}getMatrix(){const t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(e);for(let n=0;n&lt;e;n++)r[n]=255-(255&amp;t[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,e,r,n){return new b(this.delegate.crop(t,e,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new b(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new b(this.delegate.rotateCounterClockwise45())}}class B extends O{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const e=t.getContext(&quot;2d&quot;).getImageData(0,0,t.width,t.height);return B.toGrayscaleBuffer(e.data,t.width,t.height)}static toGrayscaleBuffer(t,e,r){const n=new Uint8ClampedArray(e*r);for(let e=0,r=0,i=t.length;e&lt;i;e+=4,r++){let i;i=0===t[e+3]?255:306*t[e]+601*t[e+1]+117*t[e+2]+512&gt;&gt;10,n[r]=i}return n}getRow(t,e){if(t&lt;0||t&gt;=this.getHeight())throw new c(&quot;Requested row is outside the image: &quot;+t);const r=this.getWidth(),n=t*r;return null===e?e=this.buffer.slice(n,n+r):(e.length&lt;r&amp;&amp;(e=new Uint8ClampedArray(r)),e.set(this.buffer.slice(n,n+r))),e}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,e,r,n){return super.crop(t,e,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const t=this.canvas.ownerDocument.createElement(&quot;canvas&quot;);t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const e=this.getTempCanvasElement(),r=e.getContext(&quot;2d&quot;),n=t*B.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),a=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return e.width=s,e.height=a,r.translate(s/2,a/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=B.makeBufferFromCanvasImageData(e),this}invert(){return new b(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(t,e,r){this.deviceId=t,this.label=e,this.kind=&quot;videoinput&quot;,this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var P,v=(globalThis||r.g||self||window?(globalThis||r.g||self||window||void 0).__awaiter:void 0)||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))};class F{constructor(t,e=500,r){this.reader=t,this.timeBetweenScansMillis=e,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return&quot;undefined&quot;!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&amp;&amp;!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t&lt;0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return v(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error(&quot;Can&apos;t enumerate devices, navigator is not present.&quot;);if(!this.canEnumerateDevices)throw new Error(&quot;Can&apos;t enumerate devices, method not supported.&quot;);const t=yield navigator.mediaDevices.enumerateDevices(),e=[];for(const r of t){const t=&quot;video&quot;===r.kind?&quot;videoinput&quot;:r.kind;if(&quot;videoinput&quot;!==t)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${e.length+1}`,kind:t,groupId:r.groupId};e.push(n)}return e}))}getVideoInputDevices(){return v(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((t=&gt;new L(t.deviceId,t.label)))}))}findDeviceById(t){return v(this,void 0,void 0,(function*(){const e=yield this.listVideoInputDevices();return e?e.find((e=&gt;e.deviceId===t)):null}))}decodeFromInputVideoDevice(t,e){return v(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(t,e)}))}decodeOnceFromVideoDevice(t,e){return v(this,void 0,void 0,(function*(){let r;this.reset(),r=t?{deviceId:{exact:t}}:{facingMode:&quot;environment&quot;};const n={video:r};return yield this.decodeOnceFromConstraints(n,e)}))}decodeOnceFromConstraints(t,e){return v(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,e)}))}decodeOnceFromStream(t,e){return v(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(t,e);return yield this.decodeOnce(r)}))}decodeFromInputVideoDeviceContinuously(t,e,r){return v(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(t,e,r)}))}decodeFromVideoDevice(t,e,r){return v(this,void 0,void 0,(function*(){let n;n=t?{deviceId:{exact:t}}:{facingMode:&quot;environment&quot;};const i={video:n};return yield this.decodeFromConstraints(i,e,r)}))}decodeFromConstraints(t,e,r){return v(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(n,e,r)}))}decodeFromStream(t,e,r){return v(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(t,e);return yield this.decodeContinuously(n,r)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,e){return v(this,void 0,void 0,(function*(){const r=this.prepareVideoElement(e);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r}))}playVideoOnLoadAsync(t){return new Promise(((e,r)=&gt;this.playVideoOnLoad(t,(()=&gt;e()))))}playVideoOnLoad(t,e){this.videoEndedListener=()=&gt;this.stopStreams(),this.videoCanPlayListener=()=&gt;this.tryPlayVideo(t),t.addEventListener(&quot;ended&quot;,this.videoEndedListener),t.addEventListener(&quot;canplay&quot;,this.videoCanPlayListener),t.addEventListener(&quot;playing&quot;,e),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime&gt;0&amp;&amp;!t.paused&amp;&amp;!t.ended&amp;&amp;t.readyState&gt;2}tryPlayVideo(t){return v(this,void 0,void 0,(function*(){if(this.isVideoPlaying(t))console.warn(&quot;Trying to play video that is already playing.&quot;);else try{yield t.play()}catch(t){console.warn(&quot;It was not possible to play the video.&quot;)}}))}getMediaElement(t,e){const r=document.getElementById(t);if(!r)throw new a(`element with id &apos;${t}&apos; not found`);if(r.nodeName.toLowerCase()!==e.toLowerCase())throw new a(`element with id &apos;${t}&apos; must be an ${e} element`);return r}decodeFromImage(t,e){if(!t&amp;&amp;!e)throw new a(&quot;either imageElement with a src set or an url must be provided&quot;);return e&amp;&amp;!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)}decodeFromVideo(t,e){if(!t&amp;&amp;!e)throw new a(&quot;Either an element with a src set or an URL must be provided&quot;);return e&amp;&amp;!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,e,r){if(void 0===t&amp;&amp;void 0===e)throw new a(&quot;Either an element with a src set or an URL must be provided&quot;);return e&amp;&amp;!t?this.decodeFromVideoUrlContinuously(e,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new a(&quot;An image element must be provided.&quot;);this.reset();const e=this.prepareImageElement(t);let r;return this.imageElement=e,r=this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e),r}decodeFromVideoElement(t){const e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)}decodeFromVideoElementContinuously(t,e){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,e)}_decodeFromVideoElementSetup(t){if(!t)throw new a(&quot;A video element must be provided.&quot;);this.reset();const e=this.prepareVideoElement(t);return this.videoElement=e,e}decodeFromImageUrl(t){if(!t)throw new a(&quot;An URL must be provided.&quot;);this.reset();const e=this.prepareImageElement();this.imageElement=e;const r=this._decodeOnLoadImage(e);return e.src=t,r}decodeFromVideoUrl(t){if(!t)throw new a(&quot;An URL must be provided.&quot;);this.reset();const e=this.prepareVideoElement(),r=this.decodeFromVideoElement(e);return e.src=t,r}decodeFromVideoUrlContinuously(t,e){if(!t)throw new a(&quot;An URL must be provided.&quot;);this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,e);return r.src=t,n}_decodeOnLoadImage(t){return new Promise(((e,r)=&gt;{this.imageLoadedListener=()=&gt;this.decodeOnce(t,!1,!0).then(e,r),t.addEventListener(&quot;load&quot;,this.imageLoadedListener)}))}_decodeOnLoadVideo(t){return v(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)}))}_decodeOnLoadVideoContinuously(t,e){return v(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,e)}))}isImageLoaded(t){return!!t.complete&amp;&amp;0!==t.naturalWidth}prepareImageElement(t){let e;return void 0===t&amp;&amp;(e=document.createElement(&quot;img&quot;),e.width=200,e.height=200),&quot;string&quot;==typeof t&amp;&amp;(e=this.getMediaElement(t,&quot;img&quot;)),t instanceof HTMLImageElement&amp;&amp;(e=t),e}prepareVideoElement(t){let e;return t||&quot;undefined&quot;==typeof document||(e=document.createElement(&quot;video&quot;),e.width=200,e.height=200),&quot;string&quot;==typeof t&amp;&amp;(e=this.getMediaElement(t,&quot;video&quot;)),t instanceof HTMLVideoElement&amp;&amp;(e=t),e.setAttribute(&quot;autoplay&quot;,&quot;true&quot;),e.setAttribute(&quot;muted&quot;,&quot;true&quot;),e.setAttribute(&quot;playsinline&quot;,&quot;true&quot;),e}decodeOnce(t,e=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=&gt;{if(this._stopAsyncDecode)return o(new D(&quot;Video stream has ended before any code could be detected.&quot;)),void(this._stopAsyncDecode=void 0);try{i(this.decode(t))}catch(t){if(e&amp;&amp;t instanceof D||(t instanceof h||t instanceof E)&amp;&amp;r)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(t)}};return new Promise(((t,e)=&gt;n(t,e)))}decodeContinuously(t,e){this._stopContinuousDecode=!1;const r=()=&gt;{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(t);e(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(t){e(null,t),(t instanceof h||t instanceof E||t instanceof D)&amp;&amp;setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const e=this.createBinaryBitmap(t);return this.decodeBitmap(e)}_isHTMLVideoElement(t){return 0!==t.videoWidth}drawFrameOnCanvas(t,e,r){e||(e={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}drawImageOnCanvas(t,e,r=this.captureCanvasContext){e||(e={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,e.sx,e.sy,e.sWidth,e.sHeight,e.dx,e.dy,e.dWidth,e.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const e=this.getCaptureCanvas(t),r=new B(e),n=new R(r);return new l(n)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const e=this.getCaptureCanvas(t).getContext(&quot;2d&quot;);this.captureCanvasContext=e}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(&quot;undefined&quot;==typeof document)return this._destroyCaptureCanvas(),null;const e=document.createElement(&quot;canvas&quot;);let r,n;return void 0!==t&amp;&amp;(t instanceof HTMLVideoElement?(r=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&amp;&amp;(r=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),e.style.width=r+&quot;px&quot;,e.style.height=n+&quot;px&quot;,e.width=r,e.height=n,e}stopStreams(){this.stream&amp;&amp;(this.stream.getVideoTracks().forEach((t=&gt;t.stop())),this.stream=void 0),!1===this._stopAsyncDecode&amp;&amp;this.stopAsyncDecode(),!1===this._stopContinuousDecode&amp;&amp;this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&amp;&amp;(void 0!==this.videoEndedListener&amp;&amp;this.videoElement.removeEventListener(&quot;ended&quot;,this.videoEndedListener),void 0!==this.videoPlayingEventListener&amp;&amp;this.videoElement.removeEventListener(&quot;playing&quot;,this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&amp;&amp;this.videoElement.removeEventListener(&quot;loadedmetadata&quot;,this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&amp;&amp;(void 0!==this.imageLoadedListener&amp;&amp;this.imageElement.removeEventListener(&quot;load&quot;,this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute(&quot;src&quot;),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,e){try{t.srcObject=e}catch(r){t.src=URL.createObjectURL(e)}}cleanVideoSource(t){try{t.srcObject=null}catch(e){t.src=&quot;&quot;}this.videoElement.removeAttribute(&quot;src&quot;)}}class x{constructor(t,e,r=(null==e?0:8*e.length),n,i,o=d.currentTimeMillis()){this.text=t,this.rawBytes=e,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=e,this.numBits=null==r?null==e?0:8*e.length:r,this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=null==o?d.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,e){null===this.resultMetadata&amp;&amp;(this.resultMetadata=new Map),this.resultMetadata.set(t,e)}putAllMetadata(t){null!==t&amp;&amp;(null===this.resultMetadata?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&amp;&amp;t.length&gt;0){const r=new Array(e.length+t.length);d.arraycopy(e,0,r,0,e.length),d.arraycopy(t,0,r,e.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(t){t[t.AZTEC=0]=&quot;AZTEC&quot;,t[t.CODABAR=1]=&quot;CODABAR&quot;,t[t.CODE_39=2]=&quot;CODE_39&quot;,t[t.CODE_93=3]=&quot;CODE_93&quot;,t[t.CODE_128=4]=&quot;CODE_128&quot;,t[t.DATA_MATRIX=5]=&quot;DATA_MATRIX&quot;,t[t.EAN_8=6]=&quot;EAN_8&quot;,t[t.EAN_13=7]=&quot;EAN_13&quot;,t[t.ITF=8]=&quot;ITF&quot;,t[t.MAXICODE=9]=&quot;MAXICODE&quot;,t[t.PDF_417=10]=&quot;PDF_417&quot;,t[t.QR_CODE=11]=&quot;QR_CODE&quot;,t[t.RSS_14=12]=&quot;RSS_14&quot;,t[t.RSS_EXPANDED=13]=&quot;RSS_EXPANDED&quot;,t[t.UPC_A=14]=&quot;UPC_A&quot;,t[t.UPC_E=15]=&quot;UPC_E&quot;,t[t.UPC_EAN_EXTENSION=16]=&quot;UPC_EAN_EXTENSION&quot;}(P||(P={}));var k,U=P;!function(t){t[t.OTHER=0]=&quot;OTHER&quot;,t[t.ORIENTATION=1]=&quot;ORIENTATION&quot;,t[t.BYTE_SEGMENTS=2]=&quot;BYTE_SEGMENTS&quot;,t[t.ERROR_CORRECTION_LEVEL=3]=&quot;ERROR_CORRECTION_LEVEL&quot;,t[t.ISSUE_NUMBER=4]=&quot;ISSUE_NUMBER&quot;,t[t.SUGGESTED_PRICE=5]=&quot;SUGGESTED_PRICE&quot;,t[t.POSSIBLE_COUNTRY=6]=&quot;POSSIBLE_COUNTRY&quot;,t[t.UPC_EAN_EXTENSION=7]=&quot;UPC_EAN_EXTENSION&quot;,t[t.PDF417_EXTRA_METADATA=8]=&quot;PDF417_EXTRA_METADATA&quot;,t[t.STRUCTURED_APPEND_SEQUENCE=9]=&quot;STRUCTURED_APPEND_SEQUENCE&quot;,t[t.STRUCTURED_APPEND_PARITY=10]=&quot;STRUCTURED_APPEND_PARITY&quot;}(k||(k={}));var H,V,z,G,Y,X,W=k;class j{constructor(t,e,r,n,i=-1,o=-1){this.rawBytes=t,this.text=e,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity&gt;=0&amp;&amp;this.structuredAppendSequenceNumber&gt;=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Z{exp(t){return this.expTable[t]}log(t){if(0===t)throw new c;return this.logTable[t]}static addOrSubtract(t,e){return t^e}}class Q{constructor(t,e){if(0===e.length)throw new c;this.field=t;const r=e.length;if(r&gt;1&amp;&amp;0===e[0]){let t=1;for(;t&lt;r&amp;&amp;0===e[t];)t++;t===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-t),d.arraycopy(e,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(0===t)return this.getCoefficient(0);const e=this.coefficients;let r;if(1===t){r=0;for(let t=0,n=e.length;t!==n;t++){const n=e[t];r=Z.addOrSubtract(r,n)}return r}r=e[0];const n=e.length,i=this.field;for(let o=1;o&lt;n;o++)r=Z.addOrSubtract(i.multiply(t,r),e[o]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new c(&quot;GenericGFPolys do not have same GenericGF field&quot;);if(this.isZero())return t;if(t.isZero())return this;let e=this.coefficients,r=t.coefficients;if(e.length&gt;r.length){const t=e;e=r,r=t}let n=new Int32Array(r.length);const i=r.length-e.length;d.arraycopy(r,0,n,0,i);for(let t=i;t&lt;r.length;t++)n[t]=Z.addOrSubtract(e[t-i],r[t]);return new Q(this.field,n)}multiply(t){if(!this.field.equals(t.field))throw new c(&quot;GenericGFPolys do not have same GenericGF field&quot;);if(this.isZero()||t.isZero())return this.field.getZero();const e=this.coefficients,r=e.length,n=t.coefficients,i=n.length,o=new Int32Array(r+i-1),s=this.field;for(let t=0;t&lt;r;t++){const r=e[t];for(let e=0;e&lt;i;e++)o[t+e]=Z.addOrSubtract(o[t+e],s.multiply(r,n[e]))}return new Q(s,o)}multiplyScalar(t){if(0===t)return this.field.getZero();if(1===t)return this;const e=this.coefficients.length,r=this.field,n=new Int32Array(e),i=this.coefficients;for(let o=0;o&lt;e;o++)n[o]=r.multiply(i[o],t);return new Q(r,n)}multiplyByMonomial(t,e){if(t&lt;0)throw new c;if(0===e)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+t),o=this.field;for(let t=0;t&lt;n;t++)i[t]=o.multiply(r[t],e);return new Q(o,i)}divide(t){if(!this.field.equals(t.field))throw new c(&quot;GenericGFPolys do not have same GenericGF field&quot;);if(t.isZero())throw new c(&quot;Divide by 0&quot;);const e=this.field;let r=e.getZero(),n=this;const i=t.getCoefficient(t.getDegree()),o=e.inverse(i);for(;n.getDegree()&gt;=t.getDegree()&amp;&amp;!n.isZero();){const i=n.getDegree()-t.getDegree(),s=e.multiply(n.getCoefficient(n.getDegree()),o),a=t.multiplyByMonomial(i,s),c=e.buildMonomial(i,s);r=r.addOrSubtract(c),n=n.addOrSubtract(a)}return[r,n]}toString(){let t=&quot;&quot;;for(let e=this.getDegree();e&gt;=0;e--){let r=this.getCoefficient(e);if(0!==r){if(r&lt;0?(t+=&quot; - &quot;,r=-r):t.length&gt;0&amp;&amp;(t+=&quot; + &quot;),0===e||1!==r){const e=this.field.log(r);0===e?t+=&quot;1&quot;:1===e?t+=&quot;a&quot;:(t+=&quot;a^&quot;,t+=e)}0!==e&amp;&amp;(1===e?t+=&quot;x&quot;:(t+=&quot;x^&quot;,t+=e))}}return t}}class K extends s{}K.kind=&quot;ArithmeticException&quot;;class q extends Z{constructor(t,e,r){super(),this.primitive=t,this.size=e,this.generatorBase=r;const n=new Int32Array(e);let i=1;for(let r=0;r&lt;e;r++)n[r]=i,i*=2,i&gt;=e&amp;&amp;(i^=t,i&amp;=e-1);this.expTable=n;const o=new Int32Array(e);for(let t=0;t&lt;e-1;t++)o[n[t]]=t;this.logTable=o,this.zero=new Q(this,Int32Array.from([0])),this.one=new Q(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,e){if(t&lt;0)throw new c;if(0===e)return this.zero;const r=new Int32Array(t+1);return r[0]=e,new Q(this,r)}inverse(t){if(0===t)throw new K;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return&quot;GF(0x&quot;+m.toHexString(this.primitive)+&quot;,&quot;+this.size+&quot;)&quot;}equals(t){return t===this}}q.AZTEC_DATA_12=new q(4201,4096,1),q.AZTEC_DATA_10=new q(1033,1024,1),q.AZTEC_DATA_6=new q(67,64,1),q.AZTEC_PARAM=new q(19,16,1),q.QR_CODE_FIELD_256=new q(285,256,0),q.DATA_MATRIX_FIELD_256=new q(301,256,1),q.AZTEC_DATA_8=q.DATA_MATRIX_FIELD_256,q.MAXICODE_FIELD_64=q.AZTEC_DATA_6;class J extends s{}J.kind=&quot;ReedSolomonException&quot;;class $ extends s{}$.kind=&quot;IllegalStateException&quot;;class tt{constructor(t){this.field=t}decode(t,e){const r=this.field,n=new Q(r,t),i=new Int32Array(e);let o=!0;for(let t=0;t&lt;e;t++){const e=n.evaluateAt(r.exp(t+r.getGeneratorBase()));i[i.length-1-t]=e,0!==e&amp;&amp;(o=!1)}if(o)return;const s=new Q(r,i),a=this.runEuclideanAlgorithm(r.buildMonomial(e,1),s,e),c=a[0],l=a[1],h=this.findErrorLocations(c),u=this.findErrorMagnitudes(l,h);for(let e=0;e&lt;h.length;e++){const n=t.length-1-r.log(h[e]);if(n&lt;0)throw new J(&quot;Bad error location&quot;);t[n]=q.addOrSubtract(t[n],u[e])}}runEuclideanAlgorithm(t,e,r){if(t.getDegree()&lt;e.getDegree()){const r=t;t=e,e=r}const n=this.field;let i=t,o=e,s=n.getZero(),a=n.getOne();for(;o.getDegree()&gt;=(r/2|0);){let t=i,e=s;if(i=o,s=a,i.isZero())throw new J(&quot;r_{i-1} was zero&quot;);o=t;let r=n.getZero();const c=i.getCoefficient(i.getDegree()),l=n.inverse(c);for(;o.getDegree()&gt;=i.getDegree()&amp;&amp;!o.isZero();){const t=o.getDegree()-i.getDegree(),e=n.multiply(o.getCoefficient(o.getDegree()),l);r=r.addOrSubtract(n.buildMonomial(t,e)),o=o.addOrSubtract(i.multiplyByMonomial(t,e))}if(a=r.multiply(s).addOrSubtract(e),o.getDegree()&gt;=i.getDegree())throw new $(&quot;Division algorithm failed to reduce polynomial?&quot;)}const c=a.getCoefficient(0);if(0===c)throw new J(&quot;sigmaTilde(0) was zero&quot;);const l=n.inverse(c);return[a.multiplyScalar(l),o.multiplyScalar(l)]}findErrorLocations(t){const e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(e);let n=0;const i=this.field;for(let o=1;o&lt;i.getSize()&amp;&amp;n&lt;e;o++)0===t.evaluateAt(o)&amp;&amp;(r[n]=i.inverse(o),n++);if(n!==e)throw new J(&quot;Error locator degree does not match number of roots&quot;);return r}findErrorMagnitudes(t,e){const r=e.length,n=new Int32Array(r),i=this.field;for(let o=0;o&lt;r;o++){const s=i.inverse(e[o]);let a=1;for(let t=0;t&lt;r;t++)if(o!==t){const r=i.multiply(e[t],s),n=0==(1&amp;r)?1|r:-2&amp;r;a=i.multiply(a,n)}n[o]=i.multiply(t.evaluateAt(s),i.inverse(a)),0!==i.getGeneratorBase()&amp;&amp;(n[o]=i.multiply(n[o],s))}return n}}!function(t){t[t.UPPER=0]=&quot;UPPER&quot;,t[t.LOWER=1]=&quot;LOWER&quot;,t[t.MIXED=2]=&quot;MIXED&quot;,t[t.DIGIT=3]=&quot;DIGIT&quot;,t[t.PUNCT=4]=&quot;PUNCT&quot;,t[t.BINARY=5]=&quot;BINARY&quot;}(H||(H={}));class et{decode(t){this.ddata=t;let e=t.getBits(),r=this.extractBits(e),n=this.correctBits(r),i=et.convertBoolArrayToByteArray(n),o=et.getEncodedData(n),s=new j(i,o,null,null);return s.setNumBits(n.length),s}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let e=t.length,r=H.UPPER,n=H.UPPER,i=&quot;&quot;,o=0;for(;o&lt;e;)if(n===H.BINARY){if(e-o&lt;5)break;let s=et.readCode(t,o,5);if(o+=5,0===s){if(e-o&lt;11)break;s=et.readCode(t,o,11)+31,o+=11}for(let r=0;r&lt;s;r++){if(e-o&lt;8){o=e;break}const r=et.readCode(t,o,8);i+=T.castAsNonUtf8Char(r),o+=8}n=r}else{let s=n===H.DIGIT?4:5;if(e-o&lt;s)break;let a=et.readCode(t,o,s);o+=s;let c=et.getCharacter(n,a);c.startsWith(&quot;CTRL_&quot;)?(r=n,n=et.getTable(c.charAt(5)),&quot;L&quot;===c.charAt(6)&amp;&amp;(r=n)):(i+=c,n=r)}return i}static getTable(t){switch(t){case&quot;L&quot;:return H.LOWER;case&quot;P&quot;:return H.PUNCT;case&quot;M&quot;:return H.MIXED;case&quot;D&quot;:return H.DIGIT;case&quot;B&quot;:return H.BINARY;default:return H.UPPER}}static getCharacter(t,e){switch(t){case H.UPPER:return et.UPPER_TABLE[e];case H.LOWER:return et.LOWER_TABLE[e];case H.MIXED:return et.MIXED_TABLE[e];case H.PUNCT:return et.PUNCT_TABLE[e];case H.DIGIT:return et.DIGIT_TABLE[e];default:throw new $(&quot;Bad table&quot;)}}correctBits(t){let e,r;this.ddata.getNbLayers()&lt;=2?(r=6,e=q.AZTEC_DATA_6):this.ddata.getNbLayers()&lt;=8?(r=8,e=q.AZTEC_DATA_8):this.ddata.getNbLayers()&lt;=22?(r=10,e=q.AZTEC_DATA_10):(r=12,e=q.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=t.length/r;if(i&lt;n)throw new E;let o=t.length%r,s=new Int32Array(i);for(let e=0;e&lt;i;e++,o+=r)s[e]=et.readCode(t,o,r);try{new tt(e).decode(s,i-n)}catch(t){throw new E(t)}let a=(1&lt;&lt;r)-1,c=0;for(let t=0;t&lt;n;t++){let e=s[t];if(0===e||e===a)throw new E;1!==e&amp;&amp;e!==a-1||c++}let l=new Array(n*r-c),h=0;for(let t=0;t&lt;n;t++){let e=s[t];if(1===e||e===a-1)l.fill(e&gt;1,h,h+r-1),h+=r-1;else for(let t=r-1;t&gt;=0;--t)l[h++]=0!=(e&amp;1&lt;&lt;t)}return l}extractBits(t){let e=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(e?11:14)+4*r,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,e));if(e)for(let t=0;t&lt;i.length;t++)i[t]=t;else{let t=n+1+2*m.truncDivision(m.truncDivision(n,2)-1,15),e=n/2,r=m.truncDivision(t,2);for(let t=0;t&lt;e;t++){let n=t+m.truncDivision(t,15);i[e-t-1]=r-n-1,i[e+t]=r+n+1}}for(let s=0,a=0;s&lt;r;s++){let c=4*(r-s)+(e?9:12),l=2*s,h=n-1-l;for(let e=0;e&lt;c;e++){let r=2*e;for(let n=0;n&lt;2;n++)o[a+r+n]=t.get(i[l+n],i[l+e]),o[a+2*c+r+n]=t.get(i[l+e],i[h-n]),o[a+4*c+r+n]=t.get(i[h-n],i[h-e]),o[a+6*c+r+n]=t.get(i[h-e],i[l+n])}a+=8*c}return o}static readCode(t,e,r){let n=0;for(let i=e;i&lt;e+r;i++)n&lt;&lt;=1,t[i]&amp;&amp;(n|=1);return n}static readByte(t,e){let r=t.length-e;return r&gt;=8?et.readCode(t,e,8):et.readCode(t,e,r)&lt;&lt;8-r}static convertBoolArrayToByteArray(t){let e=new Uint8Array((t.length+7)/8);for(let r=0;r&lt;e.length;r++)e[r]=et.readByte(t,8*r);return e}totalBitsInLayer(t,e){return((e?88:112)+16*t)*t}}et.UPPER_TABLE=[&quot;CTRL_PS&quot;,&quot; &quot;,&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y</div></div></div></main></body></html>